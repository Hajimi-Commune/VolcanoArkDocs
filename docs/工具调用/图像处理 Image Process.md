# 图像处理 Image Process
{"version":"1.2.31","data":{"0":{"ops":[{"insert":"*","attributes":{"lineId":"b5bij0rsc3","lmkr":"1"}},{"insert":"Image Process 图像处理工具支持通过 Responses API 调用对输入图片执行画点、画线、旋转、缩放、框选/裁剪关键区域等基础操作，适用于需模型通过视觉处理提升图片理解的场景（如图文内容分析、物体定位标注、多轮视觉推理等）。工具通过模型自动判断图像处理逻辑，支持与自定义 Function 混合使用，且可处理多轮视觉输入（上一轮输出图片作为下一轮输入）。\n"},{"insert":"*","attributes":{"lineId":"b5ogy0rtos","lmkr":"1","tips":"{\"type\":\"tip\",\"isTitle\":true}"}},{"insert":"说明\n"},{"insert":"*","attributes":{"lineId":"b5rjg0ru00","lmkr":"1","tips":"{\"type\":\"tip\"}"}},{"insert":"当前处于 beta 测试阶段，测试期间免费使用。\n"},{"insert":"*","attributes":{"lineId":"b5u9p0rvl6","lmkr":"1","tips":"{\"type\":\"tip\"}"}},{"insert":"测试期间调用此工具需要增加 header '"},{"insert":"ark-beta-image-process: true","attributes":{"inlineCode":"true"}},{"insert":"'，调用方式请参见"},{"insert":"快速开始","attributes":{"hyperlink":"{\"href\":\"/docs/82379/1798161#f444abc9\",\"linkId\":\"j8y8NwEtR9\",\"newTab\":true}"}},{"insert":"。\n"},{"insert":"*","attributes":{"anchor":"#a7eb296f","heading":"h2","lineId":"b5y0o0rwbs","lmkr":"1"}},{"insert":"核心功能","attributes":{"bold":"true"}},{"insert":"\n"},{"insert":"*","attributes":{"lineId":"b60o40rxes","list":"bullet1","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"丰富的图像处理工具：支持启用/禁用画点（POINT）、框选（GROUNDING）、缩放（ZOOM）、旋转（ROTATE）等子功能，满足不同视觉处理需求。\n"},{"insert":"*","attributes":{"lineId":"b63ij0rykt","list":"bullet1","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"支持多轮图像处理：复杂视觉任务（如多步缩放+旋转）支持多轮工具调用，上一轮输出图片自动作为下一轮输入（例：image0→image1→image2）。\n"},{"insert":"*","attributes":{"lineId":"b66690rzh5","list":"bullet1","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"支持混合调用：可与用户自定义 Function 混合使用。（暂不支持与 联网搜索工具 Web Search 混合调用）\n"},{"insert":"*","attributes":{"lineId":"b69qu0s0x5","list":"bullet1","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"广泛的图片格式兼容：支持 Base64 编码的 .gif、.jpg、.jpeg 等主流图片格式，明确限制图片大小、像素、长宽比例（避免处理异常）。\n"},{"insert":"*","attributes":{"anchor":"#8ee9c5b7","heading":"h2","lineId":"b6c540s1u5","lmkr":"1"}},{"insert":"前提条件\n"},{"insert":"*","attributes":{"lineId":"b6ezt0s2b6","list":"bullet1","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"获取 API Key","attributes":{"hyperlink":"{\"href\":\"https://console.volcengine.com/ark/region:ark+cn-beijing/apiKey\",\"linkId\":\"xtdA1VrXr4\",\"newTab\":true}"}},{"insert":"\n"},{"insert":"*","attributes":{"lineId":"b6ipo0s3ki","list":"bullet1","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"开通模型服务","attributes":{"hyperlink":"{\"href\":\"https://console.volcengine.com/ark/openManagement\",\"linkId\":\"XZsOqmJ9Sn\",\"newTab\":true}"}},{"insert":"\n"},{"insert":"*","attributes":{"lineId":"b6m080s428","list":"bullet1","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"在 "},{"insert":"模型列表","attributes":{"hyperlink":"{\"href\":\"/docs/82379/1330310\",\"linkId\":\"hreMX5eYms\",\"newTab\":true}"}},{"insert":" 获取所需 Model ID\n"},{"insert":"*","attributes":{"lineId":"b6oud0s5e4","list":"bullet2","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"通过 Endpoint ID 调用模型服务，请参考 "},{"insert":"获取 Endpoint ID（创建自定义推理接入点）","attributes":{"hyperlink":"{\"href\":\"/docs/82379/1099522\",\"linkId\":\"wSjTnoJvBU\",\"newTab\":true}"}},{"insert":"。\n"},{"insert":"*","attributes":{"anchor":"#395216e3","heading":"h2","lineId":"b6von0s6xd","lmkr":"1"}},{"insert":"快速开始","attributes":{"bold":"true"}},{"insert":"\n"},{"insert":"*","attributes":{"lineId":"b6ylv0s7c0","lmkr":"1"}},{"insert":"以下提供两种常用调用方式示例，需先替换 "},{"insert":"\u003cARK_API_KEY\u003e","attributes":{"inlineCode":"true"}},{"insert":" 为实际密钥。\n"},{"insert":"*","attributes":{"lineId":"b70og0s8tx","lmkr":"1","tips":"{\"type\":\"tip\",\"isTitle\":true}"}},{"insert":"说明\n"},{"insert":"*","attributes":{"lineId":"b72fm0s97p","lmkr":"1","tips":"{\"type\":\"tip\"}"}},{"insert":"提示词支持图片和文字混排，但图文顺序可能对模型的输出效果产生影响。在提示词构成为多张图片+1段文字，建议将文字放在提示词最后。\n"},{"insert":"*","attributes":{"anchor":"#20fd65fa","heading":"h3","lineId":"b74ym0saxv","lmkr":"1"}},{"insert":"示例一：缩放（zoom）工具\n"},{"insert":"*","attributes":{"lineId":"b76wr0sblj","lmkr":"1"}},{"insert":"以下代码展示了在视觉问答场景下，如何启用缩放（zoom）工具，让模型在放大图片后读取前方路牌文字，并以流式方式实时返回答案。\n"},{"insert":"*","attributes":{"lineId":"fX6CrKCO","lmkr":"1"}},{"insert":" ","attributes":{"tabs":"true","tabsZoneId":"Q1eleQf00O","zoneType":"Z"}},{"insert":"*","attributes":{"anchor":"#3b1f0d0f","heading":"h3","lineId":"b792e0sc2i","lmkr":"1"}},{"insert":"示例二：画点（point）工具\n"},{"insert":"*","attributes":{"lineId":"b7c7e0sdr6","lmkr":"1"}},{"insert":"以下代码展示了如何启用画点（point）工具，让模型在视觉问答中进行计数，并以流式方式返回答案。\n"},{"insert":"*","attributes":{"lineId":"fP1COssR","lmkr":"1"}},{"insert":" ","attributes":{"tabs":"true","tabsZoneId":"QC3xvluL3g","zoneType":"Z"}},{"insert":"*","attributes":{"anchor":"#83e2745d","heading":"h2","lineId":"b7eln0sef2","lmkr":"1"}},{"insert":"参数说明","attributes":{"bold":"true"}},{"insert":"\n"},{"insert":"*","attributes":{"lineId":"b7gkc0sf5i","lmkr":"1"}},{"insert":"详情请参见 "},{"insert":"创建 Responses 模型请求","attributes":{"hyperlink":"{\"href\":\"https://www.volcengine.com/docs/82379/1569618\",\"linkId\":\"Xtq9PtLqq9\",\"newTab\":true}"}},{"insert":"。\n"},{"insert":"*","attributes":{"anchor":"#4b0812aa","heading":"h2","lineId":"b7j5k0sgby","lmkr":"1"}},{"insert":"支持模型列表","attributes":{"bold":"true"}},{"insert":"\n"},{"insert":"*","attributes":{"lineId":"b7xsy0shll","lmkr":"1"}},{"insert":"参见"},{"insert":"图像处理工具","attributes":{"hyperlink":"{\"href\":\"/docs/82379/1330310#7e79a172\",\"linkId\":\"qnBt62WJa3\",\"newTab\":true}"}},{"insert":"。\n"},{"insert":"*","attributes":{"anchor":"#5e431888","heading":"h2","lineId":"b80eg0si15","lmkr":"1"}},{"insert":"计费说明","attributes":{"bold":"true"}},{"insert":"\n"},{"insert":"*","attributes":{"lineId":"b830j0sj7q","list":"bullet1","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"公测期间","attributes":{"bold":"true"}},{"insert":"：暂时免费使用，无额外收费。\n"},{"insert":"*","attributes":{"lineId":"b86ws0skwb","list":"bullet1","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"我们将会提前 2 周通过官方渠道告知用户具体收费标准，保障您的使用权益。\n"},{"insert":"*","attributes":{"anchor":"#d74882f6","heading":"h2","lineId":"b89t50slf8","lmkr":"1"}},{"insert":"注意事项","attributes":{"bold":"true"}},{"insert":"\n"},{"insert":"*","attributes":{"lineId":"b8d9u0sm2v","list":"number1","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"Function 命名冲突","attributes":{"bold":"true"}},{"insert":"：若用户自定义 Function 与 “image_process” 重名，由模型自行判断调用工具（无需额外配置）。\n"},{"insert":"*","attributes":{"lineId":"b8g160snsl","list":"number1","lmkr":"1","origin-start":"2","start":"2"}},{"insert":"图片规格限制","attributes":{"bold":"true"}},{"insert":"：输入图片需满足以下条件：\n"},{"insert":"*","attributes":{"lineId":"b8iaq0soin","list":"number2","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"文件体积≤10MB、≤36000000像素、宽和高的长度\u003e14像素、长宽比\u003c150:1，超出规格将导致处理失败；\n"},{"insert":"*","attributes":{"lineId":"b8khr0spat","list":"number2","lmkr":"1","origin-start":"2","start":"2"}},{"insert":"文件格式支持情况如下：\n"},{"insert":"*","attributes":{"lineId":"b8n9y0sqbe","list":"number3","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"支持","attributes":{"bold":"true"}},{"insert":" .gif，.jpg，.jpeg，.png，.webp，.bmp，.tiff，.ico， .icns， .jp2 格式。\n"},{"insert":"*","attributes":{"lineId":"b8qjo0sr80","list":"number3","lmkr":"1","origin-start":"2","start":"2"}},{"insert":"不支持","attributes":{"bold":"true"}},{"insert":" .dib、.sgi、.heic、.heif 格式。\n"},{"insert":"*","attributes":{"lineId":"b8umc0ssew","list":"number1","lmkr":"1","origin-start":"3","start":"3"}},{"insert":"暂未支持功能","attributes":{"bold":"true"}},{"insert":"：\n"},{"insert":"*","attributes":{"lineId":"b8xck0sthr","list":"number2","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"当前不支持与 Web Search 工具混合使用，也不支持通过 "},{"insert":"tool_choice","attributes":{"inlineCode":"true"}},{"insert":" 参数指定调用 image_process，后续将逐步上线。\n"},{"insert":"*","attributes":{"lineId":"b8zx90suln","list":"number2","lmkr":"1","origin-start":"2","start":"2"}},{"insert":"暂不支持"},{"insert":"caching","attributes":{"inlineCode":"true"}},{"insert":" 参数，使用该参数会返回400错误信息。\n"},{"insert":"*","attributes":{"lineId":"b92gj0svyr","list":"number1","lmkr":"1","origin-start":"4","start":"4"}},{"insert":"Tokens 消费提示","attributes":{"bold":"true"}},{"insert":"：多轮图像处理会增加 Tokens 消费（上一轮图片输入计入下一轮 Tokens），需注意调用成本。\n"},{"insert":"*","attributes":{"lineId":"hGncpRUe","lmkr":"1"}},{"insert":"\n"},{"insert":"*","attributes":{"lineId":"69OAqABf","lmkr":"1"}},{"insert":"\n"}],"zoneId":"0","zoneType":"Z"},"CMhKdsxzBL":{"ops":[{"insert":" ","attributes":{"language":"Bash","type":"codeblock","zoneId":"HQOhiZUtPC"}},{"insert":"\n"}],"zoneId":"CMhKdsxzBL","zoneType":"Z"},"CP6lYx1nxH":{"ops":[{"insert":" ","attributes":{"language":"Python","type":"codeblock","zoneId":"LgbtC7PFra"}},{"insert":"\n"}],"zoneId":"CP6lYx1nxH","zoneType":"Z"},"CUlWNWFyGZ":{"ops":[{"insert":"package","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" main\n"},{"insert":"import","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" (\n"},{"insert":"    "},{"insert":"\"context\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"    "},{"insert":"\"fmt\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"    "},{"insert":"\"github.com/openai/openai-go/v3\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"    "},{"insert":"\"github.com/openai/openai-go/v3/option\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"    "},{"insert":"\"github.com/openai/openai-go/v3/responses\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":")\n"},{"insert":"func","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" ","attributes":{"clientside-highlight":"code-hljs-function"}},{"insert":"main","attributes":{"clientside-highlight":"code-hljs-title"}},{"insert":"()","attributes":{"clientside-highlight":"code-hljs-params"}},{"insert":" {\n"},{"insert":"    client: = openai.NewClient(option.WithBaseURL("},{"insert":"\"https://ark.cn-beijing.volces.com/api/v3\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"))\n"},{"insert":"    ctx: = context.Background()\n"},{"insert":"    tools: = [] "},{"insert":"map","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":"["},{"insert":"string","attributes":{"clientside-highlight":"code-hljs-type"}},{"insert":"] any {\n"},{"insert":"        {\n"},{"insert":"            "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"image_process\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"            "},{"insert":"\"point\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": {\n"},{"insert":"                "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"enabled\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"  "},{"insert":"// 启用画点（point）工具","attributes":{"clientside-highlight":"code-hljs-comment"}},{"insert":"\n"},{"insert":"            },\n"},{"insert":"            "},{"insert":"\"grounding\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": {\n"},{"insert":"                "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"disabled\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"            },\n"},{"insert":"            "},{"insert":"\"zoom\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": {\n"},{"insert":"                "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"disabled\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"            },\n"},{"insert":"            "},{"insert":"\"rotate\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": {\n"},{"insert":"                "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"disabled\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"            }\n"},{"insert":"        }\n"},{"insert":"    }\n"},{"insert":"    stream: = client.Responses.NewStreaming(ctx, responses.ResponseNewParams {\n"},{"insert":"        Input: responses.ResponseNewParamsInputUnion {\n"},{"insert":"            OfInputItemList: [] responses.ResponseInputItemUnionParam {\n"},{"insert":"                {\n"},{"insert":"                    OfInputMessage: \u0026 responses.ResponseInputItemMessageParam {\n"},{"insert":"                        Role: "},{"insert":"string","attributes":{"clientside-highlight":"code-hljs-type"}},{"insert":"(responses.ResponseInputMessageItemRoleUser),\n"},{"insert":"                        Content: [] responses.ResponseInputContentUnionParam {\n"},{"insert":"                            {\n"},{"insert":"                                OfInputImage: \u0026 responses.ResponseInputImageParam {\n"},{"insert":"                                    ImageURL: openai.String("},{"insert":"\"https://ark-project.tos-cn-beijing.volces.com/doc_image/image_process_2.jpg\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"),\n"},{"insert":"                                },\n"},{"insert":"                            }, {\n"},{"insert":"                                OfInputText: \u0026 responses.ResponseInputTextParam {\n"},{"insert":"                                    Text: "},{"insert":"\"数一数有多少颗草莓？\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"                                },\n"},{"insert":"                            },\n"},{"insert":"                        },\n"},{"insert":"                    },\n"},{"insert":"                },\n"},{"insert":"            }\n"},{"insert":"        },\n"},{"insert":"        Model: "},{"insert":"\"doubao-seed-1-6-vision-250815\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"    }, option.WithJSONSet("},{"insert":"\"tools\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":", tools), option.WithHeaderAdd("},{"insert":"\"ark-beta-image-process\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":", "},{"insert":"\"true\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"))\n"},{"insert":"    "},{"insert":"for","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" stream.Next() {\n"},{"insert":"        data: = stream.Current()\n"},{"insert":"        fmt.Println(data.RawJSON())\n"},{"insert":"    }\n"},{"insert":"    "},{"insert":"if","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" stream.Err() != "},{"insert":"nil","attributes":{"clientside-highlight":"code-hljs-literal"}},{"insert":" {\n"},{"insert":"        "},{"insert":"panic","attributes":{"clientside-highlight":"code-hljs-built_in"}},{"insert":"(stream.Err())\n"},{"insert":"    }\n"},{"insert":"}\n"}],"zoneId":"CUlWNWFyGZ","zoneType":"Z"},"FVpuPCjEIF":{"ops":[{"insert":" ","attributes":{"language":"Python","type":"codeblock","zoneId":"rKSxzvo29q"}},{"insert":"\n"}],"zoneId":"FVpuPCjEIF","zoneType":"Z"},"GSbDwlslfs":{"ops":[{"insert":"package","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" main\n"},{"insert":"import","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" (\n"},{"insert":"    "},{"insert":"\"context\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"    "},{"insert":"\"fmt\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"    "},{"insert":"\"github.com/openai/openai-go/v3\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"    "},{"insert":"\"github.com/openai/openai-go/v3/option\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"    "},{"insert":"\"github.com/openai/openai-go/v3/responses\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":")\n"},{"insert":"func","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" ","attributes":{"clientside-highlight":"code-hljs-function"}},{"insert":"main","attributes":{"clientside-highlight":"code-hljs-title"}},{"insert":"()","attributes":{"clientside-highlight":"code-hljs-params"}},{"insert":" {\n"},{"insert":"    client: = openai.NewClient(option.WithBaseURL("},{"insert":"\"https://ark.cn-beijing.volces.com/api/v3\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"))\n"},{"insert":"    ctx: = context.Background()\n"},{"insert":"    tools: = [] "},{"insert":"map","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":"["},{"insert":"string","attributes":{"clientside-highlight":"code-hljs-type"}},{"insert":"] any {\n"},{"insert":"        {\n"},{"insert":"            "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"image_process\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"            "},{"insert":"\"point\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": {\n"},{"insert":"                "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"disabled\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"            },\n"},{"insert":"            "},{"insert":"\"grounding\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": {\n"},{"insert":"                "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"disabled\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"            },\n"},{"insert":"            "},{"insert":"\"zoom\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": {\n"},{"insert":"                "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"enabled\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":" "},{"insert":"// 启用缩放（zoom）工具","attributes":{"clientside-highlight":"code-hljs-comment"}},{"insert":"\n"},{"insert":"            },\n"},{"insert":"            "},{"insert":"\"rotate\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": {\n"},{"insert":"                "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"disabled\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"            }\n"},{"insert":"        }\n"},{"insert":"    }\n"},{"insert":"    stream: = client.Responses.NewStreaming(ctx, responses.ResponseNewParams {\n"},{"insert":"        Input: responses.ResponseNewParamsInputUnion {\n"},{"insert":"            OfInputItemList: [] responses.ResponseInputItemUnionParam {\n"},{"insert":"                {\n"},{"insert":"                    OfInputMessage: \u0026 responses.ResponseInputItemMessageParam {\n"},{"insert":"                        Role: "},{"insert":"string","attributes":{"clientside-highlight":"code-hljs-type"}},{"insert":"(responses.ResponseInputMessageItemRoleUser),\n"},{"insert":"                        Content: [] responses.ResponseInputContentUnionParam {\n"},{"insert":"                            {\n"},{"insert":"                                OfInputImage: \u0026 responses.ResponseInputImageParam {\n"},{"insert":"                                    ImageURL: openai.String("},{"insert":"\"https://ark-project.tos-cn-beijing.volces.com/doc_image/image_process_1.jpg\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"),\n"},{"insert":"                                },\n"},{"insert":"                            }, {\n"},{"insert":"                                OfInputText: \u0026 responses.ResponseInputTextParam {\n"},{"insert":"                                    Text: "},{"insert":"\"前方路牌写了什么？\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"                                },\n"},{"insert":"                            },\n"},{"insert":"                        },\n"},{"insert":"                    },\n"},{"insert":"                },\n"},{"insert":"            }\n"},{"insert":"        },\n"},{"insert":"        Model: "},{"insert":"\"doubao-seed-1-6-vision-250815\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"    }, option.WithJSONSet("},{"insert":"\"tools\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":", tools), option.WithHeaderAdd("},{"insert":"\"ark-beta-image-process\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":", "},{"insert":"\"true\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"))\n"},{"insert":"    "},{"insert":"for","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" stream.Next() {\n"},{"insert":"        data: = stream.Current()\n"},{"insert":"        fmt.Println(data.RawJSON())\n"},{"insert":"    }\n"},{"insert":"    "},{"insert":"if","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" stream.Err() != "},{"insert":"nil","attributes":{"clientside-highlight":"code-hljs-literal"}},{"insert":" {\n"},{"insert":"        "},{"insert":"panic","attributes":{"clientside-highlight":"code-hljs-built_in"}},{"insert":"(stream.Err())\n"},{"insert":"    }\n"},{"insert":"}\n"}],"zoneId":"GSbDwlslfs","zoneType":"Z"},"HQOhiZUtPC":{"ops":[{"insert":"*","attributes":{"lineId":"rn50kFVd","lmkr":"1"}},{"insert":"curl --location "},{"insert":"'https://ark.cn-beijing.volces.com/api/v3/responses'","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":" \\\\\n"},{"insert":"*","attributes":{"lineId":"u3sUQeHs","lmkr":"1"}},{"insert":"--header"},{"insert":" 'Authorization: Bearer \u003cARK_API_KEY\u003e'","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":" \\\\\n"},{"insert":"*","attributes":{"lineId":"pgCFrq8y","lmkr":"1"}},{"insert":"--heade"},{"insert":"r 'Content-Type: application/json'","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":" \\\\\n"},{"insert":"*","attributes":{"lineId":"emjTLcJB","lmkr":"1"}},{"insert":"--head"},{"insert":"er 'ark-beta-image-process: true'","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":" \\\\\n"},{"insert":"*","attributes":{"lineId":"Q88mpxLJ","lmkr":"1"}},{"insert":"--d"},{"insert":"ata '{\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"n7PirL8w","lmkr":"1"}},{"insert":"    \"model\": \"doubao-seed-1-6-vision-250815\",\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"hOPpaqZC","lmkr":"1"}},{"insert":"    \"stream\": true,\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"FzRBdtq3","lmkr":"1"}},{"insert":"    \"tools\": [\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"0zEuJmUP","lmkr":"1"}},{"insert":"        {\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"ENrzd8ni","lmkr":"1"}},{"insert":"            \"type\": \"image_process\",\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"rCMnOFXr","lmkr":"1"}},{"insert":"            \"point\": {\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"9wLTFE7m","lmkr":"1"}},{"insert":"                \"type\": \"disabled\"\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"7VRSZzDj","lmkr":"1"}},{"insert":"            },\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"HeWpBrE5","lmkr":"1"}},{"insert":"            \"grounding\": {\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"bi9lxsRp","lmkr":"1"}},{"insert":"                \"type\": \"disabled\"\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"iHGoDB3Y","lmkr":"1"}},{"insert":"            },\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"QQVj0rU9","lmkr":"1"}},{"insert":"            \"zoom\": {\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"487NuKEs","lmkr":"1"}},{"insert":"                \"type\": \"enabled\"  // 启用 zoom（缩放）工具\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"DZJokfmR","lmkr":"1"}},{"insert":"            },\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"2UKxPA0L","lmkr":"1"}},{"insert":"            \"rotate\": {\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"dQmWSFjO","lmkr":"1"}},{"insert":"                \"type\": \"disabled\"\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"XXCssTA1","lmkr":"1"}},{"insert":"            }\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"woCJRhjw","lmkr":"1"}},{"insert":"        }\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"wlNIjYz4","lmkr":"1"}},{"insert":"    ],\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"hEveX5Qf","lmkr":"1"}},{"insert":"    \"input\": [\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"CQ6agpz0","lmkr":"1"}},{"insert":"        {\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"I1tbgudX","lmkr":"1"}},{"insert":"            \"type\": \"message\",\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"aldgMw0e","lmkr":"1"}},{"insert":"            \"role\": \"user\",\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"W3Wtiyaj","lmkr":"1"}},{"insert":"            \"content\": [\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"N5udqa1V","lmkr":"1"}},{"insert":"                {\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"RYUynwLQ","lmkr":"1"}},{"insert":"                    \"type\": \"input_image\",\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"MiS4jmPx","lmkr":"1"}},{"insert":"                    \"image_url\": \"https://ark-project.tos-cn-beijing.volces.com/doc_image/image_process_1.jpg\"\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"4lzKqYVQ","lmkr":"1"}},{"insert":"                },\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"5xUKK83D","lmkr":"1"}},{"insert":"                {                    \n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"5b364ysv","lmkr":"1"}},{"insert":"                    \"type\": \"input_text\",\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"5xJd9ucb","lmkr":"1"}},{"insert":"                    \"text\": \"前方路牌写了什么？\"\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"lI1SLm3R","lmkr":"1"}},{"insert":"                }\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"L6c5tQhF","lmkr":"1"}},{"insert":"            ]\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"zp8OzxSx","lmkr":"1"}},{"insert":"        }\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"iTYKa5Hq","lmkr":"1"}},{"insert":"    ]\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"IH7d0K7X","lmkr":"1"}},{"insert":"}'","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"}],"zoneId":"HQOhiZUtPC","zoneType":"Z"},"LgbtC7PFra":{"ops":[{"insert":"from","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" openai "},{"insert":"import","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" OpenAI\n"},{"insert":"import","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" os\n"},{"insert":"\n"},{"insert":"# 从环境变量获取API密钥，配置方法见：https://www.volcengine.com/docs/82379/1399008","attributes":{"clientside-highlight":"code-hljs-comment"}},{"insert":"\n"},{"insert":"api_key = os.getenv("},{"insert":"'ARK_API_KEY'","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":")\n"},{"insert":"\n"},{"insert":"# 初始化客户端，配置API地址与工具启用头","attributes":{"clientside-highlight":"code-hljs-comment"}},{"insert":"\n"},{"insert":"client = OpenAI(\n"},{"insert":"    base_url="},{"insert":"'https://ark.cn-beijing.volces.com/api/v3'","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"    api_key=api_key,\n"},{"insert":"    default_headers={"},{"insert":"\"ark-beta-image-process\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"true\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"}\n"},{"insert":")\n"},{"insert":"\n"},{"insert":"# 发起图像处理请求","attributes":{"clientside-highlight":"code-hljs-comment"}},{"insert":"\n"},{"insert":"response = client.responses.create(\n"},{"insert":"    model="},{"insert":"\"doubao-seed-1-6-vision-250815\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"    tools=[\n"},{"insert":"        {\n"},{"insert":"            "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"image_process\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"            "},{"insert":"\"point\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": {\n"},{"insert":"                "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"disabled\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"            },\n"},{"insert":"            "},{"insert":"\"grounding\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": {\n"},{"insert":"                "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"disabled\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"            },\n"},{"insert":"            "},{"insert":"\"zoom\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": {\n"},{"insert":"                "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"enabled\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":" "},{"insert":"# 启用缩放（zoom）工具","attributes":{"clientside-highlight":"code-hljs-comment"}},{"insert":"\n"},{"insert":"            },\n"},{"insert":"            "},{"insert":"\"rotate\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": {\n"},{"insert":"                "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"disabled\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"            }\n"},{"insert":"        }\n"},{"insert":"    ],\n"},{"insert":"    "},{"insert":"input","attributes":{"clientside-highlight":"code-hljs-built_in"}},{"insert":"=[\n"},{"insert":"        {\n"},{"insert":"            "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"message\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"            "},{"insert":"\"role\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"user\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"            "},{"insert":"\"content\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": [\n"},{"insert":"                {\n"},{"insert":"                    "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"input_image\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"                    "},{"insert":"\"image_url\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"https://ark-project.tos-cn-beijing.volces.com/doc_image/image_process_1.jpg\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"  "},{"insert":"# 输入图片 URL","attributes":{"clientside-highlight":"code-hljs-comment"}},{"insert":"\n"},{"insert":"                },\n"},{"insert":"                {\n"},{"insert":"                    "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"input_text\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"                    "},{"insert":"\"text\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"前方路牌写了什么？\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"  "},{"insert":"# 系统提示文本","attributes":{"clientside-highlight":"code-hljs-comment"}},{"insert":"\n"},{"insert":"                }\n"},{"insert":"            ]\n"},{"insert":"        }\n"},{"insert":"    ],\n"},{"insert":"    stream="},{"insert":"True","attributes":{"clientside-highlight":"code-hljs-literal"}},{"insert":"  "},{"insert":"# 启用流式响应，实时获取处理结果","attributes":{"clientside-highlight":"code-hljs-comment"}},{"insert":"\n"},{"insert":")\n"},{"insert":"\n"},{"insert":"# 打印流式响应结果","attributes":{"clientside-highlight":"code-hljs-comment"}},{"insert":"\n"},{"insert":"for","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" chunk "},{"insert":"in","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" response:\n"},{"insert":"    "},{"insert":"if","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" "},{"insert":"hasattr","attributes":{"clientside-highlight":"code-hljs-built_in"}},{"insert":"(chunk, "},{"insert":"'delta'","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"):\n"},{"insert":"        "},{"insert":"print","attributes":{"clientside-highlight":"code-hljs-built_in"}},{"insert":"(chunk.delta, end="},{"insert":"\"\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":", flush="},{"insert":"True","attributes":{"clientside-highlight":"code-hljs-literal"}},{"insert":")\n"},{"insert":"\n"}],"zoneId":"LgbtC7PFra","zoneType":"Z"},"Q1eleQf00O":{"ops":[{"insert":" ","attributes":{"tabContent":"true","title":"curl","zoneId":"CMhKdsxzBL"}},{"insert":" ","attributes":{"tabContent":"true","title":"OpenAI Python SDK","zoneId":"CP6lYx1nxH"}},{"insert":" ","attributes":{"tabContent":"true","title":"OpenAI Go SDK","zoneId":"uMDTkg0Gew"}},{"insert":" ","attributes":{"tabContent":"true","title":"效果演示","zoneId":"VQliVubdXX"}},{"insert":"\n"}],"zoneId":"Q1eleQf00O","zoneType":"Z"},"QC3xvluL3g":{"ops":[{"insert":" ","attributes":{"tabContent":"true","title":"curl","zoneId":"ojrCLjizIm"}},{"insert":" ","attributes":{"tabContent":"true","title":"OpenAI Python SDK","zoneId":"FVpuPCjEIF"}},{"insert":" ","attributes":{"tabContent":"true","title":"OpenAI Go SDK","zoneId":"rBJmfjwKXq"}},{"insert":" ","attributes":{"tabContent":"true","title":"效果演示","zoneId":"StYkVpfCWv"}},{"insert":"\n"}],"zoneId":"QC3xvluL3g","zoneType":"Z"},"StYkVpfCWv":{"ops":[{"insert":"*","attributes":{"lineId":"b961n0swv5","lmkr":"1"}},{"insert":" ","attributes":{"alt":"Image","image":"true","loadingStatus":"success","src":"https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/cecc489854ed4f4e8a5476f5e92cacfa~tplv-goo7wpa0wc-image.image","uuid":"lvD87NbAEl","width":"1574"}},{"insert":"\n"}],"zoneId":"StYkVpfCWv","zoneType":"Z"},"VQliVubdXX":{"ops":[{"insert":"*","attributes":{"lineId":"b98mw0sxjn","lmkr":"1"}},{"insert":" ","attributes":{"alt":"Image","image":"true","loadingStatus":"success","src":"https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/54abc77a5e9f4095956cfe602695c503~tplv-goo7wpa0wc-image.image","uuid":"jA2s5Dv0b8","width":"1572"}},{"insert":"\n"}],"zoneId":"VQliVubdXX","zoneType":"Z"},"ojrCLjizIm":{"ops":[{"insert":" ","attributes":{"language":"Bash","type":"codeblock","zoneId":"tE85otCBFE"}},{"insert":"\n"}],"zoneId":"ojrCLjizIm","zoneType":"Z"},"rBJmfjwKXq":{"ops":[{"insert":" ","attributes":{"language":"Go","type":"codeblock","zoneId":"CUlWNWFyGZ"}},{"insert":"\n"}],"zoneId":"rBJmfjwKXq","zoneType":"Z"},"rKSxzvo29q":{"ops":[{"insert":"from","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" openai "},{"insert":"import","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" OpenAI\n"},{"insert":"import","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" os\n"},{"insert":"\n"},{"insert":"# 从环境变量获取API密钥，配置方法见：https://www.volcengine.com/docs/82379/1399008","attributes":{"clientside-highlight":"code-hljs-comment"}},{"insert":"\n"},{"insert":"api_key = os.getenv("},{"insert":"'ARK_API_KEY'","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":")\n"},{"insert":"\n"},{"insert":"# 初始化客户端，配置API地址与工具启用头","attributes":{"clientside-highlight":"code-hljs-comment"}},{"insert":"\n"},{"insert":"client = OpenAI(\n"},{"insert":"    base_url="},{"insert":"'https://ark.cn-beijing.volces.com/api/v3'","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"    api_key=api_key,\n"},{"insert":"    default_headers={"},{"insert":"\"ark-beta-image-process\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"true\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"}\n"},{"insert":")\n"},{"insert":"\n"},{"insert":"# 发起图像处理请求","attributes":{"clientside-highlight":"code-hljs-comment"}},{"insert":"\n"},{"insert":"response = client.responses.create(\n"},{"insert":"    model="},{"insert":"\"doubao-seed-1-6-vision-250815\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"    tools=[\n"},{"insert":"        {\n"},{"insert":"            "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"image_process\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"            "},{"insert":"\"point\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": {\n"},{"insert":"                "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"enabled\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":" "},{"insert":"# 启用画点（point）工具","attributes":{"clientside-highlight":"code-hljs-comment"}},{"insert":"\n"},{"insert":"            },\n"},{"insert":"            "},{"insert":"\"grounding\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": {\n"},{"insert":"                "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"disabled\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"            },\n"},{"insert":"            "},{"insert":"\"zoom\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": {\n"},{"insert":"                "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"disabled\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"            },\n"},{"insert":"            "},{"insert":"\"rotate\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": {\n"},{"insert":"                "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"disabled\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"},{"insert":"            }\n"},{"insert":"        }\n"},{"insert":"    ],\n"},{"insert":"    "},{"insert":"input","attributes":{"clientside-highlight":"code-hljs-built_in"}},{"insert":"=[\n"},{"insert":"        {\n"},{"insert":"            "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"message\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"            "},{"insert":"\"role\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"user\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"            "},{"insert":"\"content\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": [\n"},{"insert":"                {\n"},{"insert":"                    "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"input_image\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"                    "},{"insert":"\"image_url\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"https://ark-project.tos-cn-beijing.volces.com/doc_image/image_process_2.jpg\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"  "},{"insert":"# 输入图片 URL","attributes":{"clientside-highlight":"code-hljs-comment"}},{"insert":"\n"},{"insert":"                },\n"},{"insert":"                {\n"},{"insert":"                    "},{"insert":"\"type\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"input_text\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":",\n"},{"insert":"                    "},{"insert":"\"text\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":": "},{"insert":"\"数一数有多少颗草莓？\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"  "},{"insert":"# 系统提示文本","attributes":{"clientside-highlight":"code-hljs-comment"}},{"insert":"\n"},{"insert":"                }\n"},{"insert":"            ]\n"},{"insert":"        }\n"},{"insert":"    ],\n"},{"insert":"    stream="},{"insert":"True","attributes":{"clientside-highlight":"code-hljs-literal"}},{"insert":"  "},{"insert":"# 启用流式响应，实时获取处理结果","attributes":{"clientside-highlight":"code-hljs-comment"}},{"insert":"\n"},{"insert":")\n"},{"insert":"\n"},{"insert":"# 打印流式响应结果","attributes":{"clientside-highlight":"code-hljs-comment"}},{"insert":"\n"},{"insert":"for","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" chunk "},{"insert":"in","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" response:\n"},{"insert":"    "},{"insert":"if","attributes":{"clientside-highlight":"code-hljs-keyword"}},{"insert":" "},{"insert":"hasattr","attributes":{"clientside-highlight":"code-hljs-built_in"}},{"insert":"(chunk, "},{"insert":"'delta'","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"):\n"},{"insert":"        "},{"insert":"print","attributes":{"clientside-highlight":"code-hljs-built_in"}},{"insert":"(chunk.delta, end="},{"insert":"\"\"","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":", flush="},{"insert":"True","attributes":{"clientside-highlight":"code-hljs-literal"}},{"insert":")\n"},{"insert":"\n"}],"zoneId":"rKSxzvo29q","zoneType":"Z"},"tE85otCBFE":{"ops":[{"insert":"*","attributes":{"lineId":"ikJLnxei","lmkr":"1"}},{"insert":"curl --location "},{"insert":"'https://ark.cn-beijing.volces.com/api/v3/responses'","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":" \\\\\n"},{"insert":"*","attributes":{"lineId":"e33VjnVw","lmkr":"1"}},{"insert":"--header"},{"insert":" 'Authorization: Bearer \u003cARK_API_KEY\u003e'","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":" \\\\\n"},{"insert":"*","attributes":{"lineId":"28npOu8z","lmkr":"1"}},{"insert":"--heade"},{"insert":"r 'Content-Type: application/json'","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":" \\\\\n"},{"insert":"*","attributes":{"lineId":"V5fhByZN","lmkr":"1"}},{"insert":"--head"},{"insert":"er 'ark-beta-image-process: true'","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":" \\\\\n"},{"insert":"*","attributes":{"lineId":"5VEfCz26","lmkr":"1"}},{"insert":"--d"},{"insert":"ata '{\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"uxz5ACjo","lmkr":"1"}},{"insert":"    \"model\": \"doubao-seed-1-6-vision-250815\",\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"nmVX2nNV","lmkr":"1"}},{"insert":"    \"stream\": true,\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"Njruylu3","lmkr":"1"}},{"insert":"    \"tools\": [\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"4y55jQ1s","lmkr":"1"}},{"insert":"        {\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"L72KtuG8","lmkr":"1"}},{"insert":"            \"type\": \"image_process\",\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"Fx0IRsnk","lmkr":"1"}},{"insert":"            \"point\": {\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"NLmBMOOi","lmkr":"1"}},{"insert":"                \"type\": \"enabled\"  // 启用画点（point）工具\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"gR3ZQOq5","lmkr":"1"}},{"insert":"            },\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"LrBvXdd4","lmkr":"1"}},{"insert":"            \"grounding\": {\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"n5Kbbh5z","lmkr":"1"}},{"insert":"                \"type\": \"disabled\"\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"lQBqnxgM","lmkr":"1"}},{"insert":"            },\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"pYLQzbJu","lmkr":"1"}},{"insert":"            \"zoom\": {\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"gKC9vAoH","lmkr":"1"}},{"insert":"                \"type\": \"disabled\"\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"EWp1jSSK","lmkr":"1"}},{"insert":"            },\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"z0SDIkip","lmkr":"1"}},{"insert":"            \"rotate\": {\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"DzNCua9q","lmkr":"1"}},{"insert":"                \"type\": \"disabled\"\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"mQ13oygi","lmkr":"1"}},{"insert":"            }\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"GnnyAqAS","lmkr":"1"}},{"insert":"        }\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"fqsXSEaL","lmkr":"1"}},{"insert":"    ],\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"fA11Ijpz","lmkr":"1"}},{"insert":"    \"input\": [\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"bdiKoqAf","lmkr":"1"}},{"insert":"        {\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"skPg8Qd6","lmkr":"1"}},{"insert":"            \"type\": \"message\",\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"EN7m1RUi","lmkr":"1"}},{"insert":"            \"role\": \"user\",\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"yS9sftyy","lmkr":"1"}},{"insert":"            \"content\": [\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"L3xEWvLp","lmkr":"1"}},{"insert":"                {\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"hPdxrDfA","lmkr":"1"}},{"insert":"                    \"type\": \"input_image\",\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"kKDt3sD7","lmkr":"1"}},{"insert":"                    \"image_url\": \"https://ark-project.tos-cn-beijing.volces.com/doc_image/image_process_2.jpg\"\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"OwYqkCnh","lmkr":"1"}},{"insert":"                },\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"7N34jwXF","lmkr":"1"}},{"insert":"                {\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"AE4cLPlr","lmkr":"1"}},{"insert":"                    \"type\": \"input_text\",\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"srWHYhkq","lmkr":"1"}},{"insert":"                    \"text\": \"数一数有多少颗草莓？\"\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"Osj0I0VJ","lmkr":"1"}},{"insert":"                }\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"suiExRzm","lmkr":"1"}},{"insert":"            ]\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"jJt21cbG","lmkr":"1"}},{"insert":"        }\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"XymMzwgd","lmkr":"1"}},{"insert":"    ]\n","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"*","attributes":{"clientside-highlight":"code-hljs-string","lineId":"uJ1mtYoz","lmkr":"1"}},{"insert":"}'","attributes":{"clientside-highlight":"code-hljs-string"}},{"insert":"\n"}],"zoneId":"tE85otCBFE","zoneType":"Z"},"uMDTkg0Gew":{"ops":[{"insert":" ","attributes":{"language":"Go","type":"codeblock","zoneId":"GSbDwlslfs"}},{"insert":"\n"}],"zoneId":"uMDTkg0Gew","zoneType":"Z"}}}
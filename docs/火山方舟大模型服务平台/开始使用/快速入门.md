# 快速入门

数分钟内完成你的首次 API 调用。

- 直接体验：访问[体验中心](https://console.volcengine.com/ark/region:ark+cn-beijing/experience)。
- 迁移业务至方舟，参考[兼容 OpenAI SDK](../实践教程/兼容%20OpenAI%20SDK.md)。

## 1 获取并配置 API Key

1. 获取 API Key：访问[API Key 管理](https://console.volcengine.com/ark/region:ark+cn-beijing/apiKey)，创建你的 API Key。
2. 配置环境变量：在终端中运行下面命令，配置 API Key 到环境变量。

> 配置持久化环境变量方法参见[环境变量配置指南](../实践教程/环境变量配置指南.md)。

**MacOS**

```Bash
export ARK_API_KEY="your_api_key_here"
```

**Linux**

```Bash
export ARK_API_KEY="your_api_key_here"
```

**Windows_CMD**

```Shell
setx ARK_API_KEY "your_api_key_here"
```

**Windows_PowerShell**

```PowerShell
$env:ARK_API_KEY = "your_api_key_here"
```

## 2 开通模型服务

访问[开通管理页面](https://console.volcengine.com/ark/region:ark+cn-beijing/openManagement)开通模型服务。

## 3 安装 SDK

安装官方或三方 SDK。

**Python**

运行环境中需安装[Python](https://www.python.org/downloads/)版本 3.7 或以上。

- 安装方舟 SDK：

```Bash
pip install 'volcengine-python-sdk[ark]'
```

- 安装 OpenAI SDK：

```Bash
pip install openai
```

**Go**

环境中安装 Go 版本 1.18 或以上。

在代码中通过下方方法引入 Go SDK

```Go
import github.com/volcengine/volcengine-go-sdk
```

**Java**

环境中安装 Java 版本 1.8 或以上。

在项目的pom.xml文件中添加以下依赖配置。

```XML
<dependency>
  <groupId>com.volcengine</groupId>
  <artifactId>volcengine-java-sdk-ark-runtime</artifactId>
  <version>LATEST</version>
</dependency>
```

## 4 发起 API 请求

### 文本生成

传入文本类信息给模型，进行问答、分析、改写、摘要、编程、翻译等任务，并返回文本结果。

**Python**

```Python
import os
from volcenginesdkarkruntime import Ark

client = Ark(
    base_url='https://ark.cn-beijing.volces.com/api/v3',
    api_key=os.getenv('ARK_API_KEY'),
)

response = client.responses.create(
    model="doubao-seed-1-6-251015",
    input="hello"  # Replace with your prompt
    # thinking={"type": "disabled"},  # Manually disable deep thinking
)
print(response)
```

**Curl**

```Shell
curl https://ark.cn-beijing.volces.com/api/v3/responses \
  -H "Authorization: Bearer $ARK_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "doubao-seed-1-6-251015",
    "input": "hello"
  }'
```

> 关闭深度思考：配置 `"thinking":{"type": "disabled"}`。

**Go**

```Go
package main

import (
    "context"
    "fmt"
    "os"

    "github.com/volcengine/volcengine-go-sdk/service/arkruntime"
    "github.com/volcengine/volcengine-go-sdk/service/arkruntime/model/responses"
)

func main() {
    client := arkruntime.NewClientWithApiKey(
        // Get API Key：https://console.volcengine.com/ark/region:ark+cn-beijing/apikey
        os.Getenv("ARK_API_KEY"),
        arkruntime.WithBaseUrl("https://ark.cn-beijing.volces.com/api/v3"),
    )

    ctx := context.Background()

    resp, err := client.CreateResponses(ctx, &responses.ResponsesRequest{
        Model: "doubao-seed-1-6-251015",
        Input: &responses.ResponsesInput{Union: &responses.ResponsesInput_StringValue{StringValue: "hello"}}, // Replace with your prompt
        // Thinking: &responses.ResponsesThinking{Type: responses.ThinkingType_disabled.Enum()}, // Manually disable deep thinking
    })
    if err != nil {
        fmt.Printf("response error: %v\n", err)
        return
    }
    fmt.Println(resp)
}
```

**Java**

```Java
package com.ark.sample;

import com.volcengine.ark.runtime.service.ArkService;
import com.volcengine.ark.runtime.model.responses.request.*;
import com.volcengine.ark.runtime.model.responses.response.ResponseObject;

public class demo {
    public static void main(String[] args) {
        String apiKey = System.getenv("ARK_API_KEY");
        // The base URL for model invocation
        ArkService arkService = ArkService.builder().apiKey(apiKey).baseUrl("https://ark.cn-beijing.volces.com/api/v3").build();

        CreateResponsesRequest request = CreateResponsesRequest.builder()
                .model("doubao-seed-1-6-251015")
                .input(ResponsesInput.builder().stringValue("hello").build()) // Replace with your prompt
                // .thinking(ResponsesThinking.builder().type(ResponsesConstants.THINKING_TYPE_DISABLED).build()) // Manually disable deep thinking
                .build();

        ResponseObject resp = arkService.createResponse(request);
        System.out.println(resp);

        arkService.shutdownExecutor();
    }
}
```

**OpenAI SDK**

```Python
import os
from openai import OpenAI

client = OpenAI(
    base_url='https://ark.cn-beijing.volces.com/api/v3',
    api_key=os.getenv('ARK_API_KEY'),
)

response = client.responses.create(
    model="doubao-seed-1-6-251015",
    input="hello",  # Replace with your prompt
    extra_body={
        # "thinking": {"type": "enabled"},  # Manually disable deep thinking
    },
)
print(response)
```

> 更多信息：
> - [文本生成](../文本相关/文本生成.md)：文本生成使用指南。
> - [深度思考](../使用%20Responses%20API/深度思考.md)：深度思考能力使用指南。
> - [迁移至 Responses API](../使用%20Responses%20API/迁移至%20Responses%20API.md)：新用户推荐，更简洁的上下文管理能力、强大的工具调用能力。
> - [Chat API](../API%20参考/模型调用/Chat%20API.md)：存量业务迭代推荐，广泛使用的 API。

### 多模态理解

传入图片、视频、PDF文件给模型，进行分析、内容审核、问答、视觉定位等基于多模态理解相关任务，并返回文本结果。

**Python**

```Python
import os
from volcenginesdkarkruntime import Ark

client = Ark(
    base_url='https://ark.cn-beijing.volces.com/api/v3',
    api_key=os.getenv('ARK_API_KEY'),
)

response = client.responses.create(
    model="doubao-seed-1-6-251015",
    input=[
        {
            "role": "user",
            "content": [
                {
                    "type": "input_image",
                    "image_url": "https://ark-project.tos-cn-beijing.volces.com/doc_image/ark_demo_img_1.png"
                },
                {
                    "type": "input_text",
                    "text": "支持输入图片的模型系列是哪个？"
                },
            ],
        }
    ]
)

print(response)
```

> 更多信息：
> - [多模态理解](../使用%20Responses%20API/多模态理解.md)：多模态理解详细使用指南。
> - [视觉定位 Grounding](../多模态理解/视觉定位%20Grounding.md)：图片中找到对应目标并返回坐标任务。
> - [GUI 任务处理](../多模态理解/GUI%20任务处理.md)：在计算机/移动设备中完成自动化任务。
> - [文件输入(File API)](../Files%20API%20教程.md)：传入图片、视频、文档接口。

### 图片生成

传入图片、文字给模型，进行：广告、海报、组图等图片生成；增改元素、颜色更换等图片编辑；油墨、水墨等风格切换。

**Python**

```Python
import os
# Install SDK: pip install 'volcengine-python-sdk[ark]'
from volcenginesdkarkruntime import Ark

client = Ark(
    # The base URL for model invocation
    base_url="https://ark.cn-beijing.volces.com/api/v3",
    # Get API Key：https://console.volcengine.com/ark/region:ark+cn-beijing/apikey
    api_key=os.getenv('ARK_API_KEY'),
)

imagesResponse = client.images.generate(
    # Replace with Model ID
    model="doubao-seedream-4-5-251128",
    prompt="充满活力的特写编辑肖像，模特眼神犀利，头戴雕塑感帽子，色彩拼接丰富，眼部焦点锐利，景深较浅，具有Vogue杂志封面的美学风格，采用中画幅拍摄，工作室灯光效果强烈。",
    size="2K",
    response_format="url",
    watermark=False
)

print(imagesResponse.data[0].url)
```

> 更多信息：
> - [Seedream 4.0-4.5 教程](../图片生成/Seedream%204.0-4.5%20教程.md)：主流生图模型能力以及如何通过 API 调用。
> - [Seedream 4.0-4.5 提示词指南](../实践教程/Seedream%204.0-4.5%20提示词指南.md)：使用生图模型时，如何编写提示词。

### 视频生成

通过文本描述、图像素材，快速生成高质量、风格多样的视频内容。

**Python**

```Python
import os
import time
# Install SDK: pip install 'volcengine-python-sdk[ark]'
from volcenginesdkarkruntime import Ark

client = Ark(
    base_url="https://ark.cn-beijing.volces.com/api/v3",  # The base URL for model invocation
    api_key=os.environ.get("ARK_API_KEY"),  # Get API Key：https://console.volcengine.com/ark/region:ark+cn-beijing/apikey
)

if __name__ == "__main__":
    print("----- create request -----")
    create_result = client.content_generation.tasks.create(
        model="doubao-seedance-1-0-pro-250528",  # Replace with Model ID
        content=[
            {
                # Combination of text prompt and parameters
                "type": "text",
                "text": "一位身穿绿色亮片礼服的女性站在粉红色背景前，周围飘落着五彩斑斓的彩纸 --wm true --dur 5"
            }
        ]
    )
    print(create_result)

    # Polling query section
    print("----- polling task status -----")
    task_id = create_result.id
    while True:
        get_result = client.content_generation.tasks.get(task_id=task_id)
        status = get_result.status
        if status == "succeeded":
            print("----- task succeeded -----")
            print(get_result)
            break
        elif status == "failed":
            print("----- task failed -----")
            print(f"Error: {get_result.error}")
            break
        else:
            print(f"Current status: {status}, Retrying after 3 seconds...")
            time.sleep(3)
```

> 更多信息：
> - [视频生成](../视频生成.md)：学习如何使用模型的视频生成能力，包括文本生成视频、首尾帧生视频、首帧生成视频等。
> - [Seedance-1.0-pro&pro-fast 提示词指南](../实践教程/Seedance-1.0-pro%26pro-fast%20提示词指南.md)：使用生视频模型时，如何编写提示词。

### 工具使用

通过工具/插件让模型具体读取外部数据及函数的能力，包括

- 内置工具：联网搜索、图片处理、知识库检索等已集成至方舟平台的工具。
- 三方工具：兼容MCP 的三方工具。
- 自定义工具：您自行定义及开发的工具。

**Python**

```Python
import os
from volcenginesdkarkruntime import Ark

client = Ark(
    base_url="https://ark.cn-beijing.volces.com/api/v3",
    api_key=os.getenv("ARK_API_KEY"),
)

response = client.responses.create(
    model="doubao-seed-1-6-251015",
    input=[{"role": "user", "content": "What's the weather like in Beijing?"}],
    tools=[
        {
            "type": "web_search",
            "max_keyword": 2,
        }
    ],
)

print(response)
```

> 更多信息：
> - [工具调用](../使用%20Responses%20API/工具调用.md)：学习如何让模型使用内置工具，如网页搜索、知识库检索、豆包等能力等。
> - [函数调用 Function Calling](../工具调用/函数调用%20Function%20Calling.md)：学习如何让模型调用自定义的工具。
> - [云部署 MCP / Remote MCP](../工具调用/云部署%20MCP%20-%20Remote%20MCP.md)：学习如何让模型使用 MCP 服务。

## 5 下一步

现在你已经完成了首次方舟模型服务的 API 调用，你可以探索模型的更多能力，包括：

- [平台能力速览](../控制台功能/平台能力速览.md)：探索方舟平台提供的提示词优化、权限管理、模型管理等高阶能力。
- [模型列表](../模型介绍/模型列表.md)：快速浏览方舟提供的模型全集以及各个模型所具备的能力，快速根据你的实际场景匹配到合适的模型。

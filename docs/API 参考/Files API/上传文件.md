# 上传文件
{"version":"1.2.29","data":{"0":{"ops":[{"insert":"POST https://ark.cn-beijing.volces.com/api/v3/files","attributes":{"inlineCode":"true"}},{"insert":"\n"},{"insert":"本文介绍使用 Files API 上传文件请求时的输入输出参数，供您使用接口时查阅字段含义。","attributes":{"backgroundcolor":"rgb(255, 255, 255)"}},{"insert":"\n"},{"insert":"*","attributes":{"lmkr":"1"}},{"insert":" ","attributes":{"collapseStatus":"fold","tabs":"true","tabsZoneId":"sOZwWRc4","zoneIds":"FQpBrly1,XVzDrXnC","zoneType":"Z"}},{"insert":"\n"},{"insert":"*","attributes":{"lmkr":"1"}},{"insert":" ","attributes":{"horizontal-line":"true"}},{"insert":"\n"},{"insert":"*","attributes":{"anchor":"#LGrPmcsa","heading":"h2","lmkr":"1"}},{"insert":"请求参数\n"},{"insert":"*","attributes":{"blockquote":"true","lmkr":"1"}},{"insert":"跳转 "},{"insert":"响应参数","attributes":{"hyperlink":"{\"href\":\"#NtL4xXlS\",\"linkId\":\"sZUf6j6hUC\",\"target\":\"_blank\"}"}},{"insert":"\n"},{"insert":"*","attributes":{"anchor":"#5Q8CpXQq","heading":"h3","lmkr":"1"}},{"insert":"请求体\n"},{"insert":"*","attributes":{"lmkr":"1"}},{"insert":" ","attributes":{"horizontal-line":"true"}},{"insert":"\n"},{"insert":"*","attributes":{"lmkr":"1"}},{"insert":"file","attributes":{"bold":"true"}},{"insert":" "},{"insert":"file","attributes":{"inlineCode":"true"}},{"insert":" "},{"insert":" ","attributes":{"apiTag":"require|5YUKhb"}},{"insert":"\n"},{"insert":"*","attributes":{"lmkr":"1"}},{"insert":"需要上传的文件，要求为二进制文件。具体限制请参见 "},{"insert":"Files API教程","attributes":{"hyperlink":"{\"href\":\"https://www.volcengine.com/docs/82379/1885708\",\"linkId\":\"sO6l9ojiON\",\"target\":\"_blank\"}"}},{"insert":"。\n"},{"insert":" ","attributes":{"horizontal-line":"true"}},{"insert":"\n"},{"insert":"*","attributes":{"align":"left","lmkr":"1"}},{"insert":"purpose","attributes":{"backgroundcolor":"rgb(32, 33, 35)","bold":"true"}},{"insert":"  ","attributes":{"backgroundcolor":"rgb(32, 33, 35)"}},{"insert":"string","attributes":{"backgroundcolor":"rgba(238, 242, 245, 0.5)","inlineCode":"true"}},{"insert":" ","attributes":{"backgroundcolor":"rgb(32, 33, 35)"}},{"insert":"默认值：user_data","attributes":{"backgroundcolor":"rgb(32, 33, 35)","inlineCode":"true"}},{"insert":" ","attributes":{"backgroundcolor":"rgb(32, 33, 35)"}},{"insert":" ","attributes":{"apiTag":"require|zgNDAb"}},{"insert":"\n"},{"insert":"*","attributes":{"lmkr":"1"}},{"insert":"文件用途。user_data：可以灵活使用的文件，能够用于任意用途。\n"},{"insert":"*","attributes":{"lmkr":"1"}},{"insert":" ","attributes":{"horizontal-line":"true"}},{"insert":"\n"},{"insert":"*","attributes":{"align":"left","lmkr":"1"}},{"insert":"preprocess_config","attributes":{"bold":"true"}},{"insert":" "},{"insert":"object / null","attributes":{"inlineCode":"true"}},{"insert":" \n"},{"insert":"*","attributes":{"align":"left","lmkr":"1"}},{"insert":"用于设置不同文件类型的预处理规则。\n"},{"insert":" ","attributes":{"collapse":"container","collapseStatus":"unfold","zoneId":"xj2QwSSm","zoneIds":"xj2QwSSm"}},{"insert":"\n"},{"insert":"*","attributes":{"lmkr":"1"}},{"insert":" ","attributes":{"horizontal-line":"true"}},{"insert":"\n"},{"insert":"*","attributes":{"align":"left","lmkr":"1"}},{"insert":"expire_at","attributes":{"bold":"true"}},{"insert":" "},{"insert":"integer","attributes":{"inlineCode":"true"}},{"insert":" "},{"insert":"默认值：当前时刻+604800","attributes":{"inlineCode":"true"}},{"insert":" \n"},{"insert":"*","attributes":{"align":"left","lmkr":"1"}},{"insert":"取值范围："},{"insert":"[当前时刻+86400, 当前时刻+2592000]","attributes":{"inlineCode":"true"}},{"insert":"，即最少保留1天，最多保留30天。\n"},{"insert":"*","attributes":{"align":"left","lmkr":"1"}},{"insert":"设置存储的有效期，需要传入UTC Unix时间戳（单位：秒）。 \n"},{"insert":"*","attributes":{"align":"left","anchor":"#NtL4xXlS","heading":"h2","lmkr":"1"}},{"insert":"响应参数\n"},{"insert":"*","attributes":{"blockquote":"true","lmkr":"1"}},{"insert":"跳转 "},{"insert":"请求参数","attributes":{"hyperlink":"{\"href\":\"#LGrPmcsa\",\"linkId\":\"CrIQt4JeWf\",\"target\":\"_blank\"}"}},{"insert":"\n"},{"insert":"*","attributes":{"lmkr":"1","origin-start":"1","start":"1"}},{"insert":"模型会返回对应的 "},{"insert":"file","attributes":{"hyperlink":"{\"href\":\"https://www.volcengine.com/docs/82379/1873424\",\"linkId\":\"AcRUPQoyxD\",\"target\":\"_blank\"}"}},{"insert":" object","attributes":{"hyperlink":"{\"href\":\"https://www.volcengine.com/docs/82379/1873424?type=preview\u0026lang=zh\",\"linkId\":\"AcRUPQoyxD\",\"target\":\"_blank\"}","removeLink":"true"}},{"insert":"。\n"}],"zoneId":"0","zoneType":"Z"},"FQpBrly1":{"ops":[{"insert":"*","attributes":{"lmkr":"1"}},{"insert":" ","attributes":{"image":"true","src":"https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_2abecd05ca2779567c6d32f0ddc7874d.png","uuid":"qbXOFvQa","width":"20"}},{"insert":"模型列表","attributes":{"hyperlink":"{\"href\":\"https://www.volcengine.com/docs/82379/1330310\",\"linkId\":\"UWfHQ0nIvQ\",\"target\":\"_blank\"}"}},{"insert":"    "},{"insert":" ","attributes":{"image":"true","src":"https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_a5fdd3028d35cc512a10bd71b982b6eb.png","uuid":"Zj8rU3bH","width":"20"}},{"insert":"模型计费","attributes":{"hyperlink":"{\"href\":\"https://www.volcengine.com/docs/82379/1544106\",\"linkId\":\"U61yZCKlIH\",\"target\":\"_blank\"}"}},{"insert":"     "},{"insert":" ","attributes":{"image":"true","src":"https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_57d0bca8e0d122ab1191b40101b5df75.png","uuid":"5R42y05d","width":"20"}},{"insert":"Files","attributes":{"hyperlink":"{\"href\":\"https://www.volcengine.com/docs/82379/1885708\",\"linkId\":\"c3yYto89oO\",\"target\":\"_blank\"}"}},{"insert":" API 教程","attributes":{"hyperlink":"{\"href\":\"https://www.volcengine.com/docs/82379/1885708\",\"linkId\":\"c3yYto89oO\",\"target\":\"_blank\"}","removeLink":"true"}},{"insert":"   "},{"insert":" ","attributes":{"image":"true","src":"https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_afbcf38bdec05c05089d5de5c3fd8fc8.png","uuid":"WbjQ4O0f","width":"20"}},{"insert":"API Key","attributes":{"hyperlink":"{\"href\":\"https://console.volcengine.com/ark/region:ark+cn-beijing/apiKey?apikey=%7B%7D\",\"linkId\":\"Yk6Vw0L9I9\",\"target\":\"_blank\"}"}},{"insert":"\n"}],"zoneId":"FQpBrly1","zoneType":"Z"},"XVzDrXnC":{"ops":[{"insert":"本接口支持 API Key /Access Key 鉴权，详见"},{"insert":"鉴权认证方式","attributes":{"hyperlink":"{\"href\":\"https://www.volcengine.com/docs/82379/1298459\",\"linkId\":\"BKjdxsQmPU\",\"target\":\"_blank\"}"}},{"insert":"。\n"}],"zoneId":"XVzDrXnC","zoneType":"Z"},"panel-81uLxe3c":{"ops":[{"insert":" ","attributes":{"apiSample":"multiple","apiSampleData":"{\"type\":\"multiple\",\"config\":{\"inputName\":\"request\",\"outputName\":\"response\"},\"data\":[{\"title\":\"上传文件\",\"key\":\"eUa9FdJV\",\"children\":[{\"title\":\"Curl\",\"key\":\"K691xMgdpd\",\"inputCode\":\"curl https://ark.cn-beijing.volces.com/api/v3/files \\\\\\n-H \\\"Authorization: Bearer $ARK_API_KEY\\\" \\\\\\n-F 'purpose=user_data' \\\\\\n-F 'file=@/Users/doc/demo.mp4' \\\\\\n-F 'preprocess_configs[video][fps]=0.3'\",\"outputCode\":\"{\\n    \\\"object\\\": \\\"file\\\",\\n    \\\"id\\\": \\\"file-20251018114827-6zgrb\\\",\\n    \\\"purpose\\\": \\\"user_data\\\",\\n    \\\"filename\\\": \\\"demo.mp4\\\",\\n    \\\"bytes\\\": 695110,\\n    \\\"mime_type\\\": \\\"video/mp4\\\",\\n    \\\"created_at\\\": 1760759307,\\n    \\\"expire_at\\\": 1761364107,\\n    \\\"status\\\": \\\"processing\\\",\\n    \\\"preprocess_configs\\\": {\\n        \\\"video\\\": {\\n            \\\"fps\\\": 0.3\\n        }\\n    }\\n}\",\"inputLanguage\":\"\",\"outputLanguage\":\"\"},{\"title\":\"Python SDK\",\"key\":\"q09Ti9BTNR\",\"inputCode\":\"import os\\nfrom volcenginesdkarkruntime import Ark\\n\\nclient = Ark(\\n    base_url='https://ark.cn-beijing.volces.com/api/v3',\\n    api_key=os.getenv('ARK_API_KEY')\\n)\\n\\nfile = client.files.create(\\n    # replace with your local video path\\n    file=open(\\\"/Users/doc/demo.mp4\\\", \\\"rb\\\"),\\n    purpose=\\\"user_data\\\",\\n    preprocess_configs={\\n        \\\"video\\\": {\\n            \\\"fps\\\": 0.3,  # define the sampling fps of the video, default is 1.0\\n        }\\n    }\\n)\\nprint(file)\\n\",\"outputCode\":\"{\\n    \\\"object\\\": \\\"file\\\",\\n    \\\"id\\\": \\\"file-20251018114827-6zgrb\\\",\\n    \\\"purpose\\\": \\\"user_data\\\",\\n    \\\"filename\\\": \\\"demo.mp4\\\",\\n    \\\"bytes\\\": 695110,\\n    \\\"mime_type\\\": \\\"video/mp4\\\",\\n    \\\"created_at\\\": 1760759307,\\n    \\\"expire_at\\\": 1761364107,\\n    \\\"status\\\": \\\"processing\\\",\\n    \\\"preprocess_configs\\\": {\\n        \\\"video\\\": {\\n            \\\"fps\\\": 0.3\\n        }\\n    }\\n}\",\"inputLanguage\":\"\",\"outputLanguage\":\"\"},{\"title\":\"Go SDK\",\"key\":\"g7VMGTtKB3\",\"inputCode\":\"package main\\n\\nimport (\\n    \\\"context\\\"\\n    \\\"fmt\\\"\\n    \\\"os\\\"\\n\\n    \\\"github.com/volcengine/volcengine-go-sdk/service/arkruntime\\\"\\n    \\\"github.com/volcengine/volcengine-go-sdk/service/arkruntime/model/file\\\"\\n    \\\"github.com/volcengine/volcengine-go-sdk/volcengine\\\"\\n)\\n\\nfunc main() {\\n    client := arkruntime.NewClientWithApiKey(\\n        os.Getenv(\\\"ARK_API_KEY\\\"),\\n        arkruntime.WithBaseUrl(\\\"https://ark.cn-beijing.volces.com/api/v3\\\"),\\n    )\\n    ctx := context.Background()\\n\\n    data, err := os.Open(\\\"/Users/doc/demo.mp4\\\")\\n    if err != nil {\\n        fmt.Printf(\\\"read file error: %v\\\\n\\\", err)\\n        return\\n    }\\n    fileInfo, err := client.UploadFile(ctx, \u0026file.UploadFileRequest{\\n        File:    data,\\n        Purpose: file.PurposeUserData,\\n        PreprocessConfigs: \u0026file.PreprocessConfigs{\\n            Video: \u0026file.Video{\\n                Fps: volcengine.Float64(0.3),\\n            },\\n        },\\n    })\\n\\n    if err != nil {\\n        fmt.Printf(\\\"upload file error: %v\\\", err)\\n        return\\n    }\\n    fmt.Printf(\\\"file info: %v\\\\n\\\", fileInfo)\\n\\n}\\n\",\"outputCode\":\"{\\n    \\\"object\\\": \\\"file\\\",\\n    \\\"id\\\": \\\"file-20251018114827-6zgrb\\\",\\n    \\\"purpose\\\": \\\"user_data\\\",\\n    \\\"filename\\\": \\\"demo.mp4\\\",\\n    \\\"bytes\\\": 695110,\\n    \\\"mime_type\\\": \\\"video/mp4\\\",\\n    \\\"created_at\\\": 1760759307,\\n    \\\"expire_at\\\": 1761364107,\\n    \\\"status\\\": \\\"processing\\\",\\n    \\\"preprocess_configs\\\": {\\n        \\\"video\\\": {\\n            \\\"fps\\\": 0.3\\n        }\\n    }\\n}\",\"inputLanguage\":\"\",\"outputLanguage\":\"\"},{\"title\":\"Java SDK\",\"key\":\"8zO6p2NJ39\",\"inputCode\":\"package com.ark.example;\\n\\nimport com.volcengine.ark.runtime.model.files.FileMeta;\\nimport com.volcengine.ark.runtime.model.files.PreprocessConfigs;\\nimport com.volcengine.ark.runtime.model.files.UploadFileRequest;\\nimport com.volcengine.ark.runtime.model.files.Video;\\nimport com.volcengine.ark.runtime.service.ArkService;\\nimport java.io.File;\\n\\npublic class demo {\\n\\n    public static void main(String[] args) {\\n        String apiKey = System.getenv(\\\"ARK_API_KEY\\\");\\n        ArkService service = ArkService.builder().apiKey(apiKey).baseUrl(\\\"https://ark.cn-beijing.volces.com/api/v3\\\").build();\\n\\n        System.out.println(\\\"===== Upload File Example=====\\\");\\n        FileMeta fileMeta;\\n        fileMeta = service.uploadFile(\\n                UploadFileRequest.builder().\\n                        file(new File(\\\"/Users/doc/demo.mp4\\\")) // replace with your image file path\\n                        .purpose(\\\"user_data\\\")\\n                        .preprocessConfigs(PreprocessConfigs.builder().video(new Video(0.3)).build())\\n                        .build());\\n        System.out.println(\\\"Uploaded file Meta: \\\" + fileMeta);\\n\\n        service.shutdownExecutor();\\n    }\\n}\",\"outputCode\":\"{\\n    \\\"object\\\": \\\"file\\\",\\n    \\\"id\\\": \\\"file-20251018114827-6zgrb\\\",\\n    \\\"purpose\\\": \\\"user_data\\\",\\n    \\\"filename\\\": \\\"demo.mp4\\\",\\n    \\\"bytes\\\": 695110,\\n    \\\"mime_type\\\": \\\"video/mp4\\\",\\n    \\\"created_at\\\": 1760759307,\\n    \\\"expire_at\\\": 1761364107,\\n    \\\"status\\\": \\\"processing\\\",\\n    \\\"preprocess_configs\\\": {\\n        \\\"video\\\": {\\n            \\\"fps\\\": 0.3\\n        }\\n    }\\n}\",\"inputLanguage\":\"\",\"outputLanguage\":\"\"},{\"title\":\"OpenAI SDK\",\"key\":\"MF9rrDzr1i\",\"inputCode\":\"import asyncio\\nimport os\\nfrom openai import OpenAI\\n\\nclient = OpenAI(\\n    base_url='https://ark.cn-beijing.volces.com/api/v3',\\n    api_key=os.getenv('ARK_API_KEY')\\n)\\n\\nfile = client.files.create(\\n    # replace with your local video path\\n    file=open(\\\"/Users/doc/demo.mp4\\\", \\\"rb\\\"),\\n    purpose=\\\"user_data\\\",\\n    extra_body={\\n        \\\"preprocess_configs\\\":{\\n            \\\"video\\\": {\\n                \\\"fps\\\": 0.3\\n            }\\n        }\\n    }\\n)\\nprint(file)\",\"outputCode\":\"{\\n    \\\"object\\\": \\\"file\\\",\\n    \\\"id\\\": \\\"file-20251018114827-6zgrb\\\",\\n    \\\"purpose\\\": \\\"user_data\\\",\\n    \\\"filename\\\": \\\"demo.mp4\\\",\\n    \\\"bytes\\\": 695110,\\n    \\\"mime_type\\\": \\\"video/mp4\\\",\\n    \\\"created_at\\\": 1760759307,\\n    \\\"expire_at\\\": 1761364107,\\n    \\\"status\\\": \\\"processing\\\",\\n    \\\"preprocess_configs\\\": {\\n        \\\"video\\\": {\\n            \\\"fps\\\": 0.3\\n        }\\n    }\\n}\",\"inputLanguage\":\"\",\"outputLanguage\":\"\"}]}]}"}}],"zoneId":"panel-81uLxe3c","zoneType":"Z"},"sOZwWRc4":{"ops":[{"insert":"*","attributes":{"tabContent":"true","title":"快速入口","zoneId":"FQpBrly1","zoneIds":"FQpBrly1"}},{"insert":"*","attributes":{"tabContent":"true","title":"鉴权说明","zoneId":"XVzDrXnC","zoneIds":"XVzDrXnC"}},{"insert":"\n"}],"zoneId":"sOZwWRc4","zoneType":"Z"},"xj2QwSSm":{"ops":[{"insert":"*","attributes":{"lmkr":"1"}},{"insert":"属性\n"},{"insert":"*","attributes":{"lmkr":"1"}},{"insert":" ","attributes":{"horizontal-line":"true"}},{"insert":"\n"},{"insert":"*","attributes":{"lmkr":"1"}},{"insert":"preprocess_config.video.fps "},{"insert":"float / null","attributes":{"inlineCode":"true"}},{"insert":" "},{"insert":"默认值：1","attributes":{"inlineCode":"true"}},{"insert":"\n"},{"insert":"取值范围："},{"insert":"[0.2，5]","attributes":{"inlineCode":"true"}},{"insert":"。\n"},{"insert":"*","attributes":{"lmkr":"1"}},{"insert":"每秒钟从视频中抽取指定数量的图像。取值越高，对于视频中画面变化理解越精细；取值越低，对于视频中画面变化感知减弱，但是使用的token花费少，速度也更快。单视频token 用量范围在[10k, 80k]，具体参见"},{"insert":"视频理解","attributes":{"hyperlink":"{\"href\":\"https://www.volcengine.com/docs/82379/1895586?lang=zh#%E7%94%A8%E9%87%8F%E8%AF%B4%E6%98%8E\",\"linkId\":\"yUlc67Reba\",\"target\":\"_blank\"}"}},{"insert":"。\n"}],"zoneId":"xj2QwSSm","zoneType":"Z"}}}

# 查询视频生成任务列表

`GET https://ark.cn-beijing.volces.com/api/v3/contents/generations/tasks?page_num={page_num}&page_size={page_size}&filter.status={filter.status}&filter.task_ids={filter.task_ids}&filter.model={filter.model}`[运行](https://api.volcengine.com/api-explorer/?action=ListContentsGenerationsTasks&data=%7B%7D&groupName=%E8%A7%86%E9%A2%91%E7%94%9F%E6%88%90API&query=%7B%7D&serviceCode=ark&version=2024-01-01)
当您要查询符合条件的任务，您可以传入条件筛选参数，返回符合要求的任务。
说明
仅支持查询最近 7 天的历史数据。时间计算统一采用UTC时间戳，返回的7天历史数据范围以用户实际发起批量查询请求的时刻为基准（精确到秒），时间戳区间为 [T-7天, T)。
请求参数
跳转 [响应参数](#7mi8G8RI)
说明
下面参数为Query String Parameters，在URL String中传入。
**page_num**`integer / null`
取值范围：[1, 500]
返回结果的页码。
**page_size **`integer / null`
取值范围：[1, 500]
返回结果的每页的结果数量。
**filter.status **`string / null`
过滤参数，查询某个任务状态。
`queued`：排队中的任务。
`running`：运行中任务。
`cancelled`：取消的任务。
`succeeded`： 成功的任务。
`failed`：失败的任务。
**filter.task_ids **`string[] / null`
视频生成任务 ID，精确搜索，支持同时搜索多个任务 ID。多个任务 ID 之间通过 `&`连接。示例：`filter.task_ids=id1&filter.task_ids=id2`。
**filter.model **`string / null`
与返回参数不同，该字段为任务使用的推理接入点 ID，精确搜索。
**filter.service_tier****new**`string / null``默认值 default`
处理任务使用的服务等级。
`default`：在线推理模式
`flex`：离线推理模式
响应参数
跳转 [请求参数](#RxN8G2nH)
**items **`object[]`
查询到的视频生成任务列表。
**total **`integer`
符合筛选条件的任务数量。

## 示例代码

**curl**

```bash
curl -X GET https://ark.cn-beijing.volces.com/api/v3/contents/generations/tasks?page_size=3&filter.status=succeeded& \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $ARK_API_KEY"
```

**Response:**

```json
{
  "total": 3,
  "items": [
    {
      "id": "cgt-2025******-****",
      "model": "doubao-seedance-1-0-pro-250528",
      "status": "succeeded",
      "content": {
        "video_url": "https://ark-content-generation-cn-beijing.tos-cn-beijing.volces.com/doubao-seedance-1-0-pro/****.mp4?X-Tos-Algorithm=TOS4-HMAC-SHA256&X-Tos-Credential=AKLTY****%2Fcn-beijing%2Ftos%2Frequest&X-Tos-Date=20250331T095113Z&X-Tos-Expires=86400&X-Tos-Signature=***&X-Tos-SignedHeaders=host"
      },
      "seed": 10,
      "resolution": "720p",
      "ratio": "16:9",
      "duration": 5,
      "framespersecond": 24,
      "service_tier":"default",
      "execution_expires_after":172800,
      "usage": {
        "completion_tokens": 108900,
        "total_tokens": 108900
      },
      "created_at": 1743414619,
      "updated_at": 1743414673
    },
    {
      "id": "cgt-2025******-****",
      "model": "doubao-seedance-1-0-pro-250528",
      "status": "succeeded",
      "content": {
        "video_url": "https://ark-content-generation-cn-beijing.tos-cn-beijing.volces.com/xxx"
      },
      "seed": 23,
      "resolution": "720p",
      "ratio": "16:9",
      "duration": 5,
      "framespersecond": 24,
      "service_tier":"default",
      "execution_expires_after":172800,
      "usage": {
        "completion_tokens": 82280,
        "total_tokens": 82280
      },
      "created_at": 1743406900,
      "updated_at": 1743406940
    },
    {
      "id": "cgt-2025******-****",
      "model": "doubao-seedance-1-0-pro-250528",
      "status": "succeeded",
      "content": {
        "video_url": "https://ark-content-generation-cn-beijing.tos-cn-beijing.volces.com/xxx"
      },
      "seed": 4,
      "resolution": "720p",
      "ratio": "16:9",
      "duration": 5,
      "framespersecond": 24,
      "service_tier":"default",
      "execution_expires_after":172800,
      "usage": {
        "completion_tokens": 82280,
        "total_tokens": 82280
      },
      "created_at": 1743406900,
      "updated_at": 1743406946
    }
  ]
}
```

**python**

```python
import os

from volcenginesdkarkruntime import Ark

client = Ark(api_key=os.environ.get("ARK_API_KEY"))

if __name__ == "__main__":
    resp = client.content_generation.tasks.list(
        page_size=3,
        status="succeeded",
    )
    print(resp)
```

**Response:**

```json
{
  "total": 3,
  "items": [
    {
      "id": "cgt-2025******-****",
      "model": "doubao-seedance-1-0-pro-250528",
      "status": "succeeded",
      "content": {
        "video_url": "https://ark-content-generation-cn-beijing.tos-cn-beijing.volces.com/doubao-seedance-1-0-pro/****.mp4?X-Tos-Algorithm=TOS4-HMAC-SHA256&X-Tos-Credential=AKLTY****%2Fcn-beijing%2Ftos%2Frequest&X-Tos-Date=20250331T095113Z&X-Tos-Expires=86400&X-Tos-Signature=***&X-Tos-SignedHeaders=host"
      },
      "seed": 10,
      "resolution": "720p",
      "ratio": "16:9",
      "duration": 5,
      "framespersecond": 24,
      "service_tier":"default",
      "execution_expires_after":172800,
      "usage": {
        "completion_tokens": 108900,
        "total_tokens": 108900
      },
      "created_at": 1743414619,
      "updated_at": 1743414673
    },
    {
      "id": "cgt-2025******-****",
      "model": "doubao-seedance-1-0-pro-250528",
      "status": "succeeded",
      "content": {
        "video_url": "https://ark-content-generation-cn-beijing.tos-cn-beijing.volces.com/xxx"
      },
      "seed": 23,
      "resolution": "720p",
      "ratio": "16:9",
      "duration": 5,
      "framespersecond": 24,
      "service_tier":"default",
      "execution_expires_after":172800,
      "usage": {
        "completion_tokens": 82280,
        "total_tokens": 82280
      },
      "created_at": 1743406900,
      "updated_at": 1743406940
    },
    {
      "id": "cgt-2025******-****",
      "model": "doubao-seedance-1-0-pro-250528",
      "status": "succeeded",
      "content": {
        "video_url": "https://ark-content-generation-cn-beijing.tos-cn-beijing.volces.com/xxx"
      },
      "seed": 4,
      "resolution": "720p",
      "ratio": "16:9",
      "duration": 5,
      "framespersecond": 24,
      "service_tier":"default",
      "execution_expires_after":172800,
      "usage": {
        "completion_tokens": 82280,
        "total_tokens": 82280
      },
      "created_at": 1743406900,
      "updated_at": 1743406946
    }
  ]
}
```

**go**

```go
package main

import (
	"context"
	"fmt"
	"os"

	"github.com/volcengine/volcengine-go-sdk/service/arkruntime"
	"github.com/volcengine/volcengine-go-sdk/service/arkruntime/model"
	"github.com/volcengine/volcengine-go-sdk/volcengine"
)

func main() {
	client := arkruntime.NewClientWithApiKey(os.Getenv("ARK_API_KEY"))
	ctx := context.Background()

	req := model.ListContentGenerationTasksRequest{
		PageSize: volcengine.Int(3),
		Filter: &model.ListContentGenerationTasksFilter{
			Status: volcengine.String("succeeded"),
		},
	}

	resp, err := client.ListContentGenerationTasks(ctx, req)
	if err != nil {
		fmt.Printf("failed to list content generation tasks: %v\n", err)
		return
	}
	fmt.Printf("%+v\n", resp)
}

```

**Response:**

```json
{
  "total": 3,
  "items": [
    {
      "id": "cgt-2025******-****",
      "model": "doubao-seedance-1-0-pro-250528",
      "status": "succeeded",
      "content": {
        "video_url": "https://ark-content-generation-cn-beijing.tos-cn-beijing.volces.com/doubao-seedance-1-0-pro/****.mp4?X-Tos-Algorithm=TOS4-HMAC-SHA256&X-Tos-Credential=AKLTY****%2Fcn-beijing%2Ftos%2Frequest&X-Tos-Date=20250331T095113Z&X-Tos-Expires=86400&X-Tos-Signature=***&X-Tos-SignedHeaders=host"
      },
      "seed": 10,
      "resolution": "720p",
      "ratio": "16:9",
      "duration": 5,
      "framespersecond": 24,
      "service_tier":"default",
      "execution_expires_after":172800,
      "usage": {
        "completion_tokens": 108900,
        "total_tokens": 108900
      },
      "created_at": 1743414619,
      "updated_at": 1743414673
    },
    {
      "id": "cgt-2025******-****",
      "model": "doubao-seedance-1-0-pro-250528",
      "status": "succeeded",
      "content": {
        "video_url": "https://ark-content-generation-cn-beijing.tos-cn-beijing.volces.com/xxx"
      },
      "seed": 23,
      "resolution": "720p",
      "ratio": "16:9",
      "duration": 5,
      "framespersecond": 24,
      "service_tier":"default",
      "execution_expires_after":172800,
      "usage": {
        "completion_tokens": 82280,
        "total_tokens": 82280
      },
      "created_at": 1743406900,
      "updated_at": 1743406940
    },
    {
      "id": "cgt-2025******-****",
      "model": "doubao-seedance-1-0-pro-250528",
      "status": "succeeded",
      "content": {
        "video_url": "https://ark-content-generation-cn-beijing.tos-cn-beijing.volces.com/xxx"
      },
      "seed": 4,
      "resolution": "720p",
      "ratio": "16:9",
      "duration": 5,
      "framespersecond": 24,
      "service_tier":"default",
      "execution_expires_after":172800,
      "usage": {
        "completion_tokens": 82280,
        "total_tokens": 82280
      },
      "created_at": 1743406900,
      "updated_at": 1743406946
    }
  ]
}
```

**java**

```java
package com.volcengine.sample;

import com.fasterxml.jackson.core.JsonProcessingException;
import com.volcengine.ark.runtime.model.content.generation.ListContentGenerationTasksRequest;
import com.volcengine.ark.runtime.service.ArkService;
import java.util.concurrent.TimeUnit;
import okhttp3.ConnectionPool;
import okhttp3.Dispatcher;

/*
# pom.xml
<dependency>
  <groupId>com.volcengine</groupId>
  <artifactId>volcengine-java-sdk-ark-runtime</artifactId>
  // 替换正式版本号
  <version>LATEST</version>
</dependency>
*/

public class Sample {

    static String apiKey = System.getenv("ARK_API_KEY");

    static ConnectionPool connectionPool = new ConnectionPool(5, 1, TimeUnit.SECONDS);
    static Dispatcher dispatcher = new Dispatcher();
    static ArkService service =
            ArkService.builder()
                    .dispatcher(dispatcher)
                    .connectionPool(connectionPool)
                    .apiKey(apiKey)
                    .build();

    public static void main(String[] args) throws JsonProcessingException {

        ListContentGenerationTasksRequest req =
                ListContentGenerationTasksRequest.builder().pageSize(3).status("succeeded").build();

        service.listContentGenerationTasks(req).toString();
        System.out.println(service.getContentGenerationTask(req));

        // shutdown service after all requests is finished
        service.shutdownExecutor();
    }
}

```

**Response:**

```json
{
  "total": 3,
  "items": [
    {
      "id": "cgt-2025******-****",
      "model": "doubao-seedance-1-0-pro-250528",
      "status": "succeeded",
      "content": {
        "video_url": "https://ark-content-generation-cn-beijing.tos-cn-beijing.volces.com/doubao-seedance-1-0-pro/****.mp4?X-Tos-Algorithm=TOS4-HMAC-SHA256&X-Tos-Credential=AKLTY****%2Fcn-beijing%2Ftos%2Frequest&X-Tos-Date=20250331T095113Z&X-Tos-Expires=86400&X-Tos-Signature=***&X-Tos-SignedHeaders=host"
      },
      "seed": 10,
      "resolution": "720p",
      "ratio": "16:9",
      "duration": 5,
      "framespersecond": 24,
      "service_tier":"default",
      "execution_expires_after":172800,
      "usage": {
        "completion_tokens": 108900,
        "total_tokens": 108900
      },
      "created_at": 1743414619,
      "updated_at": 1743414673
    },
    {
      "id": "cgt-2025******-****",
      "model": "doubao-seedance-1-0-pro-250528",
      "status": "succeeded",
      "content": {
        "video_url": "https://ark-content-generation-cn-beijing.tos-cn-beijing.volces.com/xxx"
      },
      "seed": 23,
      "resolution": "720p",
      "ratio": "16:9",
      "duration": 5,
      "framespersecond": 24,
      "service_tier":"default",
      "execution_expires_after":172800,
      "usage": {
        "completion_tokens": 82280,
        "total_tokens": 82280
      },
      "created_at": 1743406900,
      "updated_at": 1743406940
    },
    {
      "id": "cgt-2025******-****",
      "model": "doubao-seedance-1-0-pro-250528",
      "status": "succeeded",
      "content": {
        "video_url": "https://ark-content-generation-cn-beijing.tos-cn-beijing.volces.com/xxx"
      },
      "seed": 4,
      "resolution": "720p",
      "ratio": "16:9",
      "duration": 5,
      "framespersecond": 24,
      "service_tier":"default",
      "execution_expires_after":172800,
      "usage": {
        "completion_tokens": 82280,
        "total_tokens": 82280
      },
      "created_at": 1743406900,
      "updated_at": 1743406946
    }
  ]
}
```

属性
error.**code**`string`
错误码。
error.**message**`string`
错误提示信息。
usage.**completion_tokens**`integer`
模型输出视频花费的 token 数量。
usage.**total_tokens**`integer`
本次请求消耗的总 token 数量。视频生成模型不统计输入 token，输入 token 为 0，故 **total_tokens**=**completion_tokens**。
本接口支持 API Key 鉴权，详见[鉴权认证方式](https://www.volcengine.com/docs/82379/1298459)。
items.**id **`string`
视频生成任务 ID 。
items.**model**`string`
任务使用的模型名称和版本，`模型名称-版本`。
items.**status**`string`
任务状态，以及相关的信息：
`queued`：排队中。
`running`：任务运行中。
`cancelled`：取消任务（只支持排队中状态的任务被取消）。
`succeeded`： 任务成功。
`failed`：任务失败。
`expired`**new**：任务超时。
items.**error**`object / null`
错误提示信息，任务成功返回`null`，任务失败时返回错误数据，错误信息具体参见 [错误处理](https://www.volcengine.com/docs/82379/1393047#653d2c40)。
items.**created_at**`integer`
任务创建时间的 Unix 时间戳（秒）。
items.**updated_at**`integer`
任务当前状态更新时间的 Unix 时间戳（秒）。
items.**content**`object`
当视频生成任务完成，会输出该字段，包含生成视频下载的 URL。
items.**seed**`integer`
本次请求使用的种子整数值。
items.**resolution **`string`
生成视频的分辨率。
items.**ratio **`string`
生成视频的宽高比。
items.**duration**`integer`
生成视频的时长，单位：秒。
说明**new**：**duration 和 frames 参数只会返回一个**。[创建视频生成任务](https://www.volcengine.com/docs/82379/1520757) 时未指定 frames，会返回 duration。
items.**frames****new**`integer`
生成视频的帧数。
说明：**duration 和 frames 参数只会返回一个**。[创建视频生成任务](https://www.volcengine.com/docs/82379/1520757) 时指定了 frames，会返回 frames。
items.**framespersecond**`integer`
生成视频的帧率。
items.**service_tier ****new**`string`
实际处理任务使用的服务等级。
items.**execution_expires_after****new**`integer`
任务超时阈值，单位：秒。
items.**usage**`object`
本次请求的 token 用量。
[体验中心](https://console.volcengine.com/ark/region:ark+cn-beijing/experience/vision)[模型列表](https://www.volcengine.com/docs/82379/1330310)[模型计费](https://www.volcengine.com/docs/82379/1099320#%E8%A7%86%E9%A2%91%E7%94%9F%E6%88%90%E6%A8%A1%E5%9E%8B)[API Key](https://console.volcengine.com/ark/region:ark+cn-beijing/apiKey?apikey=%7B%7D)
[调用教程](https://www.volcengine.com/docs/82379/1366799)[接口文档](https://www.volcengine.com/docs/82379/1521675)[常见问题](https://www.volcengine.com/docs/82379/1359411)[开通模型](https://console.volcengine.com/ark/region:ark+cn-beijing/openManagement?LLM=%7B%7D&OpenTokenDrawer=false)
content.**video_url**`string`
生成视频的URL。为保障信息安全，生成的视频会在24小时后被清理，请及时转存。
content.**last_frame_url **`string`
视频的尾帧图像 URL。有效期为 24小时，请及时转存。
说明：[创建视频生成任务](https://www.volcengine.com/docs/82379/1520757) 时设置 `"return_last_frame": true` 时，会返回参数。
**

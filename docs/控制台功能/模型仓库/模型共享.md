# 模型共享
# 模型共享概述

## 业务场景

在火山方舟的业务领域中，用户对于高效、精准的模型需求持续增长。
- 一方面，火山方舟的**专业团队**拥有强大的技术实力与丰富经验，能够训练出优质的定制模型并共享给客户使用，进而降低客户训练模型的门槛与成本。
- 另一方面，围绕模型的训练推理，企业之间可能存在**协作关系**，需要方舟平台提供安全的模型协作管理能力，确保账号间的数据和资产隔离，从而便捷、安全地共享和使用模型，提高企业协作的业务水平与效率。

## 功能概述

为此，火山方舟推出了**模型共享**功能，为用户赋予安全的跨账号共享模型的能力。
在多账号的场景中，用户能够将火山方舟模型仓库里的精调模型共享给其他账号，同时限制被共享模型的使用权限。充分保证了共享过程中数据和资产的安全，提供了单点共享的安全通道。

:::tip
当前模型共享功能仅向部分用户开放使用，如有问题可[提交工单](https://console.volcengine.com/workorder/create?step=2&SubProductID=P00001166)联系我们。
模型共享集成了资源共享平台的服务，更多内容请查看[火山引擎-资源管理-资源共享概述](https://www.volcengine.com/docs/6649/1220168)。
:::

<br>

## 名词说明

- **名词** | **说明**
- 共享者 | 共享者是模型共享的发起方，也是共享模型的拥有者，可以将模型仓库中的精调模型共享给指定账号。
- 使用者 | 使用者是模型共享的接受方，对共享模型具有指定的操作和使用权限，可以选择接受或者拒绝共享邀请。
- 共享资源 | 共享资源为云服务类型下的资源实例。火山方舟-模型仓库-定制模型（即精调模型）就是一种支持共享的资源类型。
- 共享单元 | 共享单元是资源共享的实例。共享单元有地域属性，管理共享单元时需要切换到相关的地域。
创建共享的流程包括关联资源、关联共享权限、关联共享使用者。
- 共享策略 | 每个共享的模型，必须关联一个共享策略。该策略严格约束了共享使用者对共享模型可执行的操作权限。

<br>

## 共享流程图

在模型共享的流程中，由共享者发起模型共享，使用者接受共享并在火山方舟使用共享模型。
您可以查看以下共享流程图了解共享的过程。
![alt](https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_f9adc7e62d7ae055c392222841a8333b.png)

<br>

# 使用前提

主账号拥有资源共享的完全访问权限，可以直接使用模型共享的功能。
若使用IAM子用户进行模型共享或接受共享，请为IAM子用户授予对应的资源共享权限策略。
<br>

## 配置资源共享权限

共享模型前，模型的**共享者和接受者**都需要先配置“资源共享”的IAM权限策略，配置流程如下：
（1）由账号负责人（主账号或管理员）进入访问控制台的[策略管理](https://console.volcengine.com/iam/policymanage?scope=All&service=resource_share)页。
入口：点击页面右上方头像，选择[访问控制](https://console.volcengine.com/iam/policymanage?scope=All&service=resource_share)进入。
![](https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_83d1adb38a72d3c8ad9788f0355c92d6.png)
（2）在「策略管理」中，搜索“资源共享”产品，为IAM子用户授予下述权限以支持访问「[资源共享](https://console.volcengine.com/resourcemanager/region:resource-manager+cn-beijing/resource_share/owned)」平台。

- 系统预设策略：
	

**ResourceShareFullAccess** ：资源共享全部管理权限
**ResourceShareReadOnlyAccess**：资源共享只读访问权限

- 自定义策略：
	

若系统预设策略无法满足您的授权需求，可以创建自定义策略
![](https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_aeab4c7313e22593bcc0494986345db6.png)
（3）点击“管理”操作，进入策略详情，点击“添加授权”，选择需要授予权限的用户、用户组或角色，确认后完成权限授权。
![](https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_ba278f7bef370e699bb95d5692b6bade.png)
（4）修改共享权限：用户可以在策略详情中修改IAM身份的策略权限范围，或移除权限。
![](https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_9e0b0bea320fe0be7c2e52a39fe64c39.png)

> 更多帮助可查看 [火山引擎-资源管理-IAM用户使用资源共享](https://www.volcengine.com/docs/6649/1272445)。

<br>

<br>

# 发起模型共享

前往「[资源共享](https://console.volcengine.com/resourcemanager/region:resource-manager+cn-beijing/resource_share/owned)」控制台，发起模型仓库中精调模型的共享。

> 前提：仅拥有资源共享权限的用户可以进入资源共享控制台并发起共享。

## 入口

入口1：进入火山方舟-模型仓库，点击“模型共享”按钮进入「[资源共享](https://console.volcengine.com/resourcemanager/region:resource-manager+cn-beijing/resource_share/owned)」控制台。
入口2：点击右上角个人中心，进入「资源管理」控制台，选择「资源共享」。
![](https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_ca894bc6a433db2d83fe3dc66e54cd85.png)![](https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_1be436c8922bfe8d8768edd9b5e592f8.png)

选择「由我共享」，点击“创建共享单元”来发起模型的共享。
![](https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_a53826ad8bdd84c53243d25ce61cfa56.png)
<br>

## 创建共享单元

通过创建共享单元，您可以把账号下的模型共享给其他账号，并有效约束共享模型可被操作的权限。
创建流程如下：

1. 登陆[资源共享](https://console.volcengine.com/resourcemanager/region:resource-manager+cn-beijing/resource_share/owned)控制台，在左侧导航栏选择「由我共享」。
	
2. 在顶部菜单栏选择有相关模型资源的地域。
	

![](https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_e58c27d55d12d6152306c7ce586ae072.png)

3. 点击创建共享单元，进入创建流程：
	1. 第一步：配置共享单元名称并选择需要共享的资源，模型仓库的模型存放在「方舟平台-定制模型」产品下。
		
	![](https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_ea01f248f5a110d66c212f2cf0d31eaa.png)
	2. 第二步：关联共享权限。选择共享模型的使用者允许执行的操作权限。
		
		> 系统提供了预置的共享定制模型权限策略，您可查看策略详情。
		
	3. 第三步：关联共享使用者。添加需要共享的模型使用者账号
		
	4. 第四步：确认并完成共享。
		
4. 创建完共享单元后，等待共享使用者接受共享单元，即可完成模型的共享。
	
	  您可以进入共享单元详情查看共享使用者的关联状态，若状态为“已关联”则表示使用者已接受共享。
	![](https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_832dbb2a3d58f9f2c56bda32e630ea69.png)
	

<br>

## 编辑共享单元

在资源共享平台的「由我共享」中，您可以编辑已创建的共享单元。
可以修改共享单元名称、添加/移除共享资源、添加/移除共享使用者。
![](https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_b4a45c0924951db397819fd7ed6605b2.png)
<br>

## 删除共享单元

在资源共享平台的「由我共享」中，您可以删除已创建的共享单元。
删除后相关联的共享使用者将不再可用共享模型资源。
<br>

:::tip
编辑或删除共享单元对共享使用者的模型使用风险较大，请谨慎操作！
如果您想收回共享模型，请[提交工单](https://console.volcengine.com/workorder/create?step=2&SubProductID=P00001166)联系平台工作人员帮助处理。
:::

> 更多帮助可查看 [火山引擎-资源管理-由我共享管理](https://www.volcengine.com/docs/6649/1220179)。

<br>

<br>

# 接受共享模型

若其他用户给您共享了模型，您可前往「[资源共享](https://console.volcengine.com/resourcemanager/region:resource-manager+cn-beijing/resource_share/owned)」控制台，接受共享邀请。

> 前提：仅拥有资源共享权限的用户可以进入资源共享控制台并发起共享。

<br>

## 共享邀约通知

若其他用户给您共享了模型，您会在火山方舟的模型仓库收到一条邀约提醒，点击“立即处理”前往「[资源共享](https://console.volcengine.com/resourcemanager/region:resource-manager+cn-beijing/resource_share/owned)」平台。
![](https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_48522a38e9d17fd1295c8aafad10e7e1.png)
<br>

## 接受共享邀约

在「资源管理」平台左侧导航栏选择「[共享给我](https://console.volcengine.com/resourcemanager/region:resource-manager+cn-beijing/resource_share/shared)」，可查看收到的资源共享。
点击“接受”共享邀请，就可以访问该共享资源。您可以前往火山方舟「[模型仓库](https://console.volcengine.com/ark/region:ark+cn-beijing/customModel?current=1&pageSize=10&projectName=undefined)」查看接受的共享模型。
![](https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_59b52c45f2afcc47996d08247fdd67f0.png)

> 更多帮助可查看 [火山引擎-资源管理-共享给我管理](https://www.volcengine.com/docs/6649/1220178)。

<br>

<br>

# 查看和使用共享模型

根据被共享的权限策略，您将拥有相应的共享模型操作权限。
<br>

## 查看共享模型

接受的共享模型默认放在火山方舟 default 项目下。
进入[模型仓库](https://console.volcengine.com/ark/region:ark+cn-beijing/customModel?current=1&pageSize=10&projectName=undefined)，点击“共享模型”页面，可查看所有共享模型。

> 如果您希望移动共享模型至其他项目，可以参考 [火山引擎-项目资源管理](https://www.volcengine.com/docs/6649/94337)。

![](https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_7b8e6e334dec92bc1933bfcf176c2a91.png)
<br>

## 使用共享模型

若您拥有共享模型的相关使用权限，您可以在火山方舟对共享模型发起模型体验、评测、推理和增量训练。
增量训练后的精调模型将会放在「模型仓库」的“自定义模型”页面下。
![](https://portal.volccdn.com/obj/volcfe/cloud-universal-doc/upload_02a61046a7c3ea4277e37b9869a0c4fd.png)
<br>

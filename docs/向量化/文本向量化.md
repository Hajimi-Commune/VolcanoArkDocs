# 文本向量化
{"version":"0.4.3","data":{"0":{"ops":[{"insert":"*","attributes":{"lineId":"txshe0rwjz","lmkr":"1"}},{"insert":"您可以使用文本向量化模型服务，将文本转化为表达文本语义的向量，并通过计算向量计算出文本之间语义差距。在检索、个性化推荐、智能对话等场景进行文本的分类、聚类、检索、生成等自然语言处理任务。\n"},{"insert":"*","attributes":{"anchor":"#45ec2386","heading":"h1","lineId":"txyeu0rx7w","lmkr":"1"}},{"insert":"前提条件\n"},{"insert":"*","attributes":{"lineId":"ty1qs0rya8","list":"bullet1","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"获取 API Key","attributes":{"hyperlink":"{\"href\":\"https://console.volcengine.com/ark/region:ark+cn-beijing/apiKey\",\"linkId\":\"T3QmatEcTh\",\"newTab\":true}"}},{"insert":"\n"},{"insert":"*","attributes":{"lineId":"ty4y00rznj","list":"bullet1","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"开通模型服务","attributes":{"hyperlink":"{\"href\":\"https://console.volcengine.com/ark/openManagement\",\"linkId\":\"qHjIjcXNN6\",\"newTab\":true}"}},{"insert":"\n"},{"insert":"*","attributes":{"lineId":"ty6si0s0v0","list":"bullet1","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"在 "},{"insert":"模型列表","attributes":{"hyperlink":"{\"href\":\"/docs/82379/1330310\",\"linkId\":\"CXFQWNFq4U\",\"newTab\":true}"}},{"insert":" 获取所需 Model ID\n"},{"insert":"*","attributes":{"lineId":"ty9tc0s1iu","list":"bullet2","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"通过 Endpoint ID 调用模型服务，请参考 "},{"insert":"获取 Endpoint ID（创建自定义推理接入点）","attributes":{"hyperlink":"{\"href\":\"/docs/82379/1099522\",\"linkId\":\"SuRvSkBlf3\",\"newTab\":true}"}},{"insert":"。\n"},{"insert":"*","attributes":{"anchor":"#ec7da6e5","heading":"h1","lineId":"tybo40s2a4","lmkr":"1"}},{"insert":"快速开始\n"},{"insert":"*","attributes":{"anchor":"#170e47e2","heading":"h2","lineId":"tydgp0s3f8","lmkr":"1"}},{"insert":"文本字符串转换向量","attributes":{"bold":"true"}},{"insert":"\n"},{"insert":"*","attributes":{"lineId":"tyf9j0s4h1","lmkr":"1"}},{"insert":"通过调用"},{"insert":"doubao-embedding-text-240715","attributes":{"inlineCode":"true"}},{"insert":"模型，将输入的文本字符串转换为向量表示，并输出向量维度和前10维数值。\n"},{"insert":"*","attributes":{"lineId":"tyhkh0s5fl","lmkr":"1","tips":"{\"type\":\"warning\",\"isTitle\":true}"}},{"insert":"注意\n"},{"insert":"*","attributes":{"lineId":"tyl510s6vb","lmkr":"1","tips":"{\"type\":\"warning\"}"}},{"insert":"为获得更好性能，建议文本数量总token不超过4096，或者文本条数不超过4。\n"},{"insert":" ","attributes":{"language":"Python","type":"codeblock","zoneId":"m9zrP4FFEj"}},{"insert":"\n"},{"insert":"*","attributes":{"anchor":"#9c64c8e6","heading":"h2","lineId":"tyofv0s7b3","lmkr":"1"}},{"insert":"输入文本文件逐行转换","attributes":{"bold":"true"}},{"insert":"\n"},{"insert":"*","attributes":{"lineId":"tyqtv0s8yq","lmkr":"1"}},{"insert":"向量化模型可以基于您上传的文档生成嵌入向量。此处以"},{"insert":"embedding_text.txt","attributes":{"inlineCode":"true"}},{"insert":"作为示例文件，您可以通过代码对文本文件逐行转化成向量。\n"},{"insert":"*","attributes":{"lineId":"tytbr0s9i4","lmkr":"1"}},{"insert":" ","attributes":{"file":"true","filename":"embedding_text.txt","isPlugin":"true","loadingStatus":"success","src":"https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/c86250420bb943a4a6d48dae3759c488~tplv-goo7wpa0wc-image.image","uuid":"mEuDKk6BCk"}},{"insert":"\n"},{"insert":" ","attributes":{"language":"Python","type":"codeblock","zoneId":"rYfnch7zzl"}},{"insert":"\n"},{"insert":"*","attributes":{"anchor":"#c2cb3ab0","heading":"h1","lineId":"tyyzr0sagd","lmkr":"1"}},{"insert":"支持模型\n"},{"insert":"*","attributes":{"lineId":"tz1s80sbj4","lmkr":"1"}},{"insert":"当前支持文本向量化的模型请参见"},{"insert":"文本向量化能力","attributes":{"hyperlink":"{\"href\":\"/docs/82379/1330310#5fa3ded4\",\"linkId\":\"eRRB4ZJRL5\",\"newTab\":true}"}},{"insert":"。\n"},{"insert":"*","attributes":{"anchor":"#9e2cacb5","heading":"h1","lineId":"tz4ae0scjg","lmkr":"1"}},{"insert":"应用场景\n"},{"insert":"*","attributes":{"aceTable":"rs7s1zs2zjlzqbwio8q2fcllorl8zhfq1o csr8kbc2o6iji4dwmaenji7cbkr13alcl1","full":"true"}},{"insert":"\n"},{"insert":"*","attributes":{"anchor":"#c936d261","heading":"h1","lineId":"tz6sa0sds6","lmkr":"1"}},{"insert":"相关技术\n"},{"insert":"*","attributes":{"lineId":"tz9a60setz","lmkr":"1"}},{"insert":"通过上述示例完成基础向量生成后，您可以基于使用场景对向量进行更深层次的处理与分析，常用的功能包括相似度计算与维度优化。\n"},{"insert":"*","attributes":{"anchor":"#a376507a","heading":"h2","lineId":"tzdw20sfzp","lmkr":"1"}},{"insert":"相似度计算\n"},{"insert":"*","attributes":{"lineId":"tzfvk0sgjf","list":"bullet1","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"Doubao-embedding向量间相似度得分可以使用"},{"insert":"余弦相似度","attributes":{"hyperlink":"{\"href\":\"https://baike.baidu.com/item/%E4%BD%99%E5%BC%A6%E7%9B%B8%E4%BC%BC%E5%BA%A6/17509249\",\"linkId\":\"yaMTeIKtzE\",\"newTab\":true}"}},{"insert":"作为计算方式，余弦相似度计算拆分为下面两步：\n"},{"insert":"*","attributes":{"lineId":"tzi3g0sh18","list":"bullet2","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"第一步: 请求doubao-embedding接口得到embedding，将embedding向量L2_norm处理;\n"},{"insert":"*","attributes":{"lineId":"tzkgm0sit1","list":"bullet2","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"第二步: 对norm处理后的向量进行点积计算得到余弦相似度;\n"},{"insert":"*","attributes":{"anchor":"#0342c3e2","heading":"h2","lineId":"tzmrt0sjio","lmkr":"1"}},{"insert":"向量降维\n"},{"insert":"*","attributes":{"lineId":"tzorc0skdd","lmkr":"1"}},{"insert":"向量化是通过向量来表征文本、图像等非结构化数据的过程，让计算机能明白语言、图像等的含义。其中标注词义的维度是描述向量化后向量中数字的个数。在文本向量化场景，每个维度对应文本的一个特征。\n"},{"insert":"*","attributes":{"lineId":"tzriz0slix","list":"bullet1","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"维度更多","attributes":{"bold":"true"}},{"insert":"：以更多独立特征标注词语来捕捉语义细节，提升表征精度。但会导致数据量膨胀，带来更高的存储成本（内存/磁盘占用）和计算开销（相似度计算、模型推理耗时）。\n"},{"insert":"*","attributes":{"lineId":"tzttm0sm6v","list":"bullet1","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"维度更低","attributes":{"bold":"true"}},{"insert":"：以更少特征标注词语，可能损失部分细节。但数据量缩减，存储效率与计算速度会提升，资源消耗以及成本更低。\n"},{"insert":"*","attributes":{"lineId":"tzveo0sn6c","lmkr":"1"}},{"insert":"下列模型支持多种维度，您可通过向量降维，选择合适的维度来向量化文本，平衡“语义精度”、”计算速度“与“资源成本”三者成本。\n"},{"insert":"*","attributes":{"aceTable":"rsc89r49sjfo3jzmdtw5umfe40l7ubgjsn cstj1tnuq46v01fjvg3e9hekmls34tp80z","full":"true"}},{"insert":"\n"},{"insert":"*","attributes":{"anchor":"#ecd587f9","heading":"h2","lineId":"tzyb10so7w","lmkr":"1"}},{"insert":"示例代码\n"},{"insert":"*","attributes":{"lineId":"u009q0spq2","list":"bullet1","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"推荐用法：常规降维方式以"},{"insert":"doubao-embedding-text-240715","attributes":{"inlineCode":"true"}},{"insert":"模型为例，最高维度2560可以压缩到512, 1024, 2048维度存储检索，维度越高越接近最高维度效果。\n"},{"insert":"*","attributes":{"lineId":"u01yy0sq7l","list":"bullet2","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"如何降维度\u0026计算相似度？\n"},{"insert":"*","attributes":{"lineId":"u042x0srez","list":"number3","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"降维度: 将embedding接口获取的向量直接截取前dim维度;\n"},{"insert":"*","attributes":{"lineId":"u05nf0ss3o","list":"number3","lmkr":"1","origin-start":"2","start":"2"}},{"insert":"计算相似度: 对截取后的embedding做余弦相似度计算;\n"},{"insert":" ","attributes":{"language":"Python","type":"codeblock","zoneId":"PIhuW3Ql1R"}},{"insert":"\n"},{"insert":"*","attributes":{"lineId":"u08790stog","list":"bullet1","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"针对"},{"insert":"doubao-embedding-large-text-250515","attributes":{"inlineCode":"true"}},{"insert":"模型，需要降维后L2归一化使用。模型支持多种嵌入维度：[2048、1024、512、256] ，即使在较低维度下性能下降也较小。\n"},{"insert":"*","attributes":{"lineId":"u0b1e0suhi","list":"bullet2","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"如何降维度\u0026计算相似度？\n"},{"insert":"*","attributes":{"lineId":"u0duf0svs7","list":"number3","lmkr":"1","origin-start":"1","start":"1"}},{"insert":"降维度: 将embedding接口获取的向量直接截取前dim维度;\n"},{"insert":"*","attributes":{"lineId":"u0g4j0swxn","list":"number3","lmkr":"1","origin-start":"2","start":"2"}},{"insert":"归一化：使用 L2 归一化统一向量长度，确保余弦相似度计算准确。\n"},{"insert":"*","attributes":{"lineId":"u0iur0sxvq","list":"number3","lmkr":"1","origin-start":"3","start":"3"}},{"insert":"计算相似度: 对截取后的embedding做余弦相似度计算;\n"},{"insert":" ","attributes":{"language":"Python","type":"codeblock","zoneId":"hZG36MZnLo"}},{"insert":"\n"},{"insert":"*","attributes":{"anchor":"#76b99436","heading":"h1","lineId":"u0mbq0syi1","lmkr":"1"}},{"insert":"最佳实践\n"},{"insert":"*","attributes":{"anchor":"#5a7129af","heading":"h2","lineId":"u0onh0sz2a","lmkr":"1"}},{"insert":"场景概述\n"},{"insert":"*","attributes":{"lineId":"u0quj0t0gm","lmkr":"1"}},{"insert":"下列程序实现了将查询文本和资料库文本向量匹配的功能。我们以"},{"insert":"embedding_text.txt","attributes":{"inlineCode":"true"}},{"insert":"的多行文本作为资料库，通过调用Doubao-embedding模型生成文本向量。当程序接收到用户的查询文本时，将其向量化并通过余弦相似度匹配资料库的向量，最终返回最相关的前3条文本及对应相似度分数。\n"},{"insert":"*","attributes":{"anchor":"#46ee6f41","heading":"h2","lineId":"u0tcz0t1wu","lmkr":"1"}},{"insert":"第一步：客户端初始化\n"},{"insert":"*","attributes":{"lineId":"u0vvp0t2rg","lmkr":"1"}},{"insert":"导入所需的库包，并设置 API Key，为后续的数据处理和分析做准备。\n"},{"insert":" ","attributes":{"language":"Python","type":"codeblock","zoneId":"RoT3iC29Mi"}},{"insert":"\n"},{"insert":"*","attributes":{"anchor":"#4b020211","heading":"h2","lineId":"u0z2d0t3qe","lmkr":"1"}},{"insert":"第二步：从文件读取文本并生成向量\n"},{"insert":"*","attributes":{"lineId":"u11op0t4u4","lmkr":"1"}},{"insert":"读取包含文本的"},{"insert":"embedding_text.txt","attributes":{"inlineCode":"true"}},{"insert":"文件，调用文本向量模型 API 逐行生成文本对应的向量，并将文本和向量保存为 JSON 文件。\n"},{"insert":"*","attributes":{"lineId":"u149y0t5xp","lmkr":"1"}},{"insert":" ","attributes":{"file":"true","filename":"embedding_text.txt","isPlugin":"true","loadingStatus":"success","src":"https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/c86250420bb943a4a6d48dae3759c488~tplv-goo7wpa0wc-image.image","uuid":"h6YVJFlM2R"}},{"insert":"\n"},{"insert":" ","attributes":{"language":"Python","type":"codeblock","zoneId":"L4yABtdZSz"}},{"insert":"\n"},{"insert":"*","attributes":{"anchor":"#19ce35bd","heading":"h2","lineId":"u16dn0t6bd","lmkr":"1"}},{"insert":"第三步：加载预计算的向量数据\n"},{"insert":"*","attributes":{"lineId":"u18l80t73f","lmkr":"1"}},{"insert":"从 JSON 文件加载预计算的文本向量数据，为后续的相似度计算做准备。\n"},{"insert":" ","attributes":{"language":"Python","type":"codeblock","zoneId":"skvBHSF2xu"}},{"insert":"\n"},{"insert":"*","attributes":{"anchor":"#bf561877","heading":"h2","lineId":"u1amz0t871","lmkr":"1"}},{"insert":"第四步：定义计算余弦相似度函数和搜索相似文本函数\n"},{"insert":"*","attributes":{"lineId":"u1c950t9sx","lmkr":"1"}},{"insert":"利用余弦相似度来度量文本之间的相似性，实现了一个基于内容的文本搜索功能。\n"},{"insert":"*","attributes":{"lineId":"u1eip0tall","lmkr":"1"}},{"insert":"用户可以通过输入查询文本，检索与该查询文本最相关的文本。\n"},{"insert":" ","attributes":{"language":"Python","type":"codeblock","zoneId":"G1uK811OUg"}},{"insert":"\n"},{"insert":"*","attributes":{"anchor":"#07ba3072","heading":"h2","lineId":"u1ga50tbxz","lmkr":"1"}},{"insert":"第五步：测试搜索功能\n"},{"insert":"*","attributes":{"lineId":"u1kuc0tcu0","lmkr":"1"}},{"insert":"测试搜索功能，调用 "},{"insert":"search_similar_text","attributes":{"inlineCode":"true"}},{"insert":" 函数查询与"},{"insert":"query","attributes":{"inlineCode":"true"}},{"insert":"变量相关的文本，并返回与该查询文本最相关的前 3 条文本及其相似度分数。\n"},{"insert":" ","attributes":{"language":"Python","type":"codeblock","zoneId":"DlWtRk0reL"}},{"insert":"\n"},{"insert":"*","attributes":{"anchor":"#ee0ae119","heading":"h2","lineId":"u1mwn0tdm2","lmkr":"1"}},{"insert":"结果示例\n"},{"insert":"*","attributes":{"lineId":"u1ol10teot","lmkr":"1"}},{"insert":"运行上述程序后，结果将展示与查询文本相似度最高的前3条文本内容，并分别标注其相似度分数。\n"},{"insert":" ","attributes":{"language":"Plain","type":"codeblock","zoneId":"hs23YHXXXF"}},{"insert":"\n\n"}],"zoneId":"0","zoneType":"Z"},"DlWtRk0reL":{"ops":[{"insert":"# 示例：生成向量并搜索\nif __name__ == \"__main__\":\n    # 生成或加载向量\n    try:\n        embeddings = load_embeddings()\n        print(f\"已加载 {len(embeddings)} 条预计算向量\")\n    except FileNotFoundError:\n        print(\"未找到预计算向量，将从文件生成...\")\n        embeddings = generate_and_save_embeddings()\n    \n    # 执行搜索（示例查询：上下文缓存机制）\n    query = \"上下文缓存（Context API）是方舟提供的一个高效的缓存机制，旨在为您优化生成式AI在不同交互场景下的性能和成本。\"\n    results = search_similar_text(query, embeddings, top_n=3)\n    \n    # 打印结果\n    print(f\"\\n搜索查询: '{query}'\")\n    for i, result in enumerate(results, 1):\n        print(f\"\\nTop {i} (相似度: {result['similarity']:.4f}):\")\n        print(f\"{result['text'][:200]}...\")  # 显示前200个字符\n"}],"zoneId":"DlWtRk0reL","zoneType":"Z"},"G1uK811OUg":{"ops":[{"insert":"# 定义计算余弦相似度函数\ndef cosine_similarity(a, b):\n    a = np.array(a)\n    b = np.array(b)\n    return np.dot(a, b) / (np.linalg.norm(a) * np.linalg.norm(b))\n    \n# 定义search_similar_text 函数：搜索与查询文本最相似的前N条文本\ndef search_similar_text(query_text, embeddings, top_n=3):\n    # 生成查询文本的向量\n    query_response = client.embeddings.create(\n        model=\"doubao-embedding-text-240715\",\n        input=[query_text],\n        encoding_format=\"float\"\n    )\n    query_embedding = query_response.data[0].embedding\n    # 计算相似度\n    for item in embeddings:\n        item[\"similarity\"] = cosine_similarity(item[\"embedding\"], query_embedding)\n    # 排序并返回结果\n    sorted_results = sorted(embeddings, key=lambda x: x[\"similarity\"], reverse=True)\n    return sorted_results[:top_n]\n"}],"zoneId":"G1uK811OUg","zoneType":"Z"},"L4yABtdZSz":{"ops":[{"insert":"def generate_and_save_embeddings(file_path=\"embedding_text.txt\", output_path=\"embeddings.json\"):\n    with open(file_path, \"r\", encoding=\"utf-8\") as f:\n        texts = [line.strip() for line in f if line.strip()]\n    # 调用向量化API\n    response = client.embeddings.create(\n        model=\"doubao-embedding-text-240715\",\n        input=texts,\n        encoding_format=\"float\"\n    )\n    # 构建结果并保存\n    results = [{\"text\": text, \"embedding\": data.embedding} \n              for text, data in zip(texts, response.data)]\n    \n    with open(output_path, \"w\", encoding=\"utf-8\") as f:\n        json.dump(results, f)\n    \n    print(f\"已生成并保存 {len(results)} 条向量至 {output_path}\")\n    return results\n"}],"zoneId":"L4yABtdZSz","zoneType":"Z"},"PIhuW3Ql1R":{"ops":[{"insert":"# 降维 + L2_norm\ndef sliced_norm_l2(vec: List[float], dim=2560) -\u003e List[float]:\n    # dim 取值 512,1024,2048\n    norm = float(np.linalg.norm(vec[ :dim]))\n    return [v / norm for v in vec[ :dim]]\n    \n# 余弦相似度计算\nquery_doc_relevance_score_2560d = np.matmul(\n    sliced_norm_l2(embeddings[0], 2560), #查询向量\n    sliced_norm_l2(embeddings[1], 2560)  #文档向量\n)\n"}],"zoneId":"PIhuW3Ql1R","zoneType":"Z"},"RoT3iC29Mi":{"ops":[{"insert":"import os\n# 导入火山引擎大模型SDK\nfrom volcenginesdkarkruntime import Ark\n# 初始化客户端\nclient = Ark(\n    api_key=os.environ.get(\"ARK_API_KEY\"),\n    base_url=\"https://ark.cn-beijing.volces.com/api/v3\"\n)\n"}],"zoneId":"RoT3iC29Mi","zoneType":"Z"},"csr8kbc2o6iji4dwmaenji7cbkr13alcl1":{"ops":[{"insert":{"id":"c18om0leww6kf67gjlbwt84fgcialpq9n4"},"attributes":{"backgroundColor":"{\"z0tte3ym\":\"\",\"2sfy53k6\":\"\",\"1kc85jv1\":\"\",\"52cs2ubo\":\"\",\"ki6desey\":\"\",\"1en2wib5\":\"\",\"n3jcmmpr\":\"\"}","colWidth":"100","mergeCellID":"9nyi5yoa,9nyi5yoa,jz7r5jyl,jz7r5jyl,pp351w9q,pp351w9q,pp351w9q,6nq9z69p,6nq9z69p,t0ezy6dw,t0ezy6dw,1uplra9n,1uplra9n"}},{"insert":{"id":"c1ep1egcsm4i4preuikyqfiajd62zms8fd"},"attributes":{"backgroundColor":"{\"t64n1f5o\":\"\",\"a75i2r26\":\"\",\"klgpuigi\":\"\",\"ynv5jc2r\":\"\",\"35p9mhd9\":\"\",\"lqqihwwy\":\"\",\"5vig2chw\":\"\",\"k54eqya4\":\"\",\"ruwlwnag\":\"\",\"pf9qd5up\":\"\",\"yql7htjd\":\"\",\"4ln3r2di\":\"\",\"isrc1mjk\":\"\",\"99d9lqq3\":\"\"}","colWidth":"100"}},{"insert":{"id":"c16qyyh1zvbhkmpuptuampf2eq80u36693"},"attributes":{"backgroundColor":"{\"m1wnz3lh\":\"\",\"rwv2eutc\":\"\",\"3ls1bgvs\":\"\",\"iza00f06\":\"\",\"odml1arq\":\"\",\"1r18p3gb\":\"\",\"b0svgqz6\":\"\",\"ttk7h793\":\"\",\"efz6v6ec\":\"\",\"9dja5q4r\":\"\",\"l7imnsrq\":\"\",\"h81f6a5d\":\"\",\"qd45idf2\":\"\",\"bcnta0vj\":\"\"}","colWidth":"408"}}],"zoneId":"csr8kbc2o6iji4dwmaenji7cbkr13alcl1","zoneType":"C"},"cstj1tnuq46v01fjvg3e9hekmls34tp80z":{"ops":[{"insert":{"id":"c1a2ph7zaevbcdhpp8jswi8u55nl5y9c83"},"attributes":{"backgroundColor":"{\"relimha8\":\"\",\"y54wwzob\":\"\",\"lbk84bzw\":\"\",\"0q0tr20g\":\"\",\"8ej21alv\":\"\"}","colWidth":"136"}},{"insert":{"id":"c1talcl2izsll01kddnpheiz10ccfcagbf"},"attributes":{"backgroundColor":"{\"1mnwkavc\":\"\",\"m5uy9ypz\":\"\",\"q48toq40\":\"\",\"g027qsc6\":\"\",\"bysuewy2\":\"\"}","colWidth":"148"}},{"insert":{"id":"c1neueyo0q4da06q9iyayv84q2trf1vhu5"},"attributes":{"backgroundColor":"{\"d8q9svce\":\"\",\"a792ydrz\":\"\",\"uvnvn8yh\":\"\",\"lqwfcdhs\":\"\",\"qzitrtyd\":\"\"}","colWidth":"500"}}],"zoneId":"cstj1tnuq46v01fjvg3e9hekmls34tp80z","zoneType":"C"},"hZG36MZnLo":{"ops":[{"insert":"def encode(\n    client, inputs: List[str], is_query: bool = False, mrl_dim: Optional[int] = None\n):\n    # 处理查询文本（添加指令模板优化检索性能）\n    if is_query:\n        inputs = [f\"Instruct: Given a web search query...\\nQuery: {i}\" for i in inputs]  \n    # 调用API获取原始向量（未归一化）\n    resp = client.embeddings.create(\n        model=\"doubao-embedding-large-text-250515\",\n        input=inputs,\n        encoding_format=\"float\",\n    )\n    # 转换为张量并降维（截取前mrl_dim维度）\n    embedding = torch.tensor([d.embedding for d in resp.data], dtype=torch.bfloat16)\n    if mrl_dim is not None:\n        assert mrl_dim in [256, 512, 1024, 2048], \"仅支持256/512/1024/2048维\"\n        embedding = embedding[:, :mrl_dim]  \n    # 必须执行归一化：L2归一化后才能计算余弦相似度\n    embedding = torch.nn.functional.normalize(embedding, dim=1, p=2).float().numpy()\n    return embedding\n"}],"zoneId":"hZG36MZnLo","zoneType":"Z"},"hs23YHXXXF":{"ops":[{"insert":"已加载 7 条预计算向量\n搜索查询: '上下文缓存（Context API）是方舟提供的一个高效的缓存机制，旨在为您优化生成式AI在不同交互场景下的性能和成本。'\nTop 1 (相似度: 0.9085):\n上下文缓存（Context API）通过缓存数据优化AI性能与成本...\nTop 2 (相似度: 0.7384):\n文本生成可理解文本并进行对话回复...\nTop 3 (相似度: 0.7201):\n批量推理适用于大计算量非即时任务，享高配额与低价...\n"}],"zoneId":"hs23YHXXXF","zoneType":"Z"},"m9zrP4FFEj":{"ops":[{"insert":"import os\nfrom volcenginesdkarkruntime import Ark\n# 初始化客户端\nclient = Ark(\n    # 从环境变量中读取您的方舟API Key\n    api_key=os.environ.get(\"ARK_API_KEY\"),\n    base_url=\"https://ark.cn-beijing.volces.com/api/v3\"\n)\nresponse = client.embeddings.create(\n    model=\"doubao-embedding-text-240715\",\n    input=\"Function Calling 是一种将大模型与外部工具和 API 相连的关键功能\",\n    encoding_format=\"float\"  \n)\n# 打印结果\nprint(f\"向量维度: {len(response.data[0].embedding)}\")\nprint(f\"前10维向量: {response.data[0].embedding[:10]}\")\n"}],"zoneId":"m9zrP4FFEj","zoneType":"Z"},"rYfnch7zzl":{"ops":[{"insert":"import os\nfrom volcenginesdkarkruntime import Ark\nclient = Ark(\n    # 从环境变量中读取您的方舟API Key\n    api_key=os.environ.get(\"ARK_API_KEY\"),\n    base_url=\"https://ark.cn-beijing.volces.com/api/v3\"\n)\n# 从文件读取文本并生成向量\nwith open(\"embedding_text.txt\", \"r\", encoding=\"utf-8\") as f:\n    # 按行分割文本（每行作为一个独立输入）\n    texts = [line.strip() for line in f if line.strip()]\n    \n    response = client.embeddings.create(\n        model=\"doubao-embedding-text-240715\",\n        input=texts,\n        encoding_format=\"float\"\n    )\n# 打印结果\nprint(f\"处理文本数量: {len(response.data)}\")\nprint(f\"首个文本向量维度: {len(response.data[0].embedding)}\")\n"}],"zoneId":"rYfnch7zzl","zoneType":"Z"},"rs7s1zs2zjlzqbwio8q2fcllorl8zhfq1o":{"ops":[{"insert":{"id":"r1wjz4zbn63vjqstozzvjytg98bwftim3e"},"attributes":{"backgroundColor":"{\"z0tte3ym\":\"\",\"t64n1f5o\":\"\",\"m1wnz3lh\":\"\"}"}},{"insert":{"id":"r1o8w5bva3619e1lm6npztl44qsbwz3616"},"attributes":{"backgroundColor":"{\"2sfy53k6\":\"\",\"a75i2r26\":\"\",\"rwv2eutc\":\"\"}","mergeCellID":"9nyi5yoa"}},{"insert":{"id":"r1gi2bvhqkdrl28zmczi7u7hnwhul79a2s"},"attributes":{"backgroundColor":"{\"klgpuigi\":\"\",\"3ls1bgvs\":\"\"}","mergeCellID":"9nyi5yoa"}},{"insert":{"id":"r114cb4ls0afthsztlrkza69ocynq9g3z0"},"attributes":{"backgroundColor":"{\"1kc85jv1\":\"\",\"ynv5jc2r\":\"\",\"iza00f06\":\"\"}","mergeCellID":"jz7r5jyl"}},{"insert":{"id":"r12wiiiw9ekgo59l02dbmi4j342hp9amir"},"attributes":{"backgroundColor":"{\"35p9mhd9\":\"\",\"odml1arq\":\"\"}","mergeCellID":"jz7r5jyl"}},{"insert":{"id":"r1yckt3hvft3ea1hfe3k1jipg33bgaj9ss"},"attributes":{"backgroundColor":"{\"52cs2ubo\":\"\",\"lqqihwwy\":\"\",\"1r18p3gb\":\"\"}","mergeCellID":"pp351w9q"}},{"insert":{"id":"r1nvjkataqulgo1owodv2v4y3eao1mlze2"},"attributes":{"backgroundColor":"{\"5vig2chw\":\"\",\"b0svgqz6\":\"\"}","mergeCellID":"pp351w9q"}},{"insert":{"id":"r1qthajpfq8vumu8lk2ocm7q2142ikjump"},"attributes":{"backgroundColor":"{\"k54eqya4\":\"\",\"ttk7h793\":\"\"}","mergeCellID":"pp351w9q"}},{"insert":{"id":"r1f4bhj3smasjrw2ipiyd0otialop63p3k"},"attributes":{"backgroundColor":"{\"ki6desey\":\"\",\"ruwlwnag\":\"\",\"efz6v6ec\":\"\"}","mergeCellID":"6nq9z69p"}},{"insert":{"id":"r1h8o6a4o0479ic8eoqqbrrmqmnldgqstb"},"attributes":{"backgroundColor":"{\"pf9qd5up\":\"\",\"9dja5q4r\":\"\"}","mergeCellID":"6nq9z69p"}},{"insert":{"id":"r1uzbtzoyvmfa7fmrtwlu1otitzw6rjgpu"},"attributes":{"backgroundColor":"{\"1en2wib5\":\"\",\"yql7htjd\":\"\",\"l7imnsrq\":\"\"}","mergeCellID":"t0ezy6dw"}},{"insert":{"id":"r14yzsowo5iuol6job319z6eud6qm9k7gt"},"attributes":{"backgroundColor":"{\"4ln3r2di\":\"\",\"h81f6a5d\":\"\"}","mergeCellID":"t0ezy6dw"}},{"insert":{"id":"r1j5o9ajila6aohnrn9mm4l4d7w2ovm67v"},"attributes":{"backgroundColor":"{\"n3jcmmpr\":\"\",\"isrc1mjk\":\"\",\"qd45idf2\":\"\"}","mergeCellID":"1uplra9n"}},{"insert":{"id":"r179pg35gld5km7kdvov9vtiq9h0o0vn5u"},"attributes":{"backgroundColor":"{\"99d9lqq3\":\"\",\"bcnta0vj\":\"\"}","mergeCellID":"1uplra9n"}}],"zoneId":"rs7s1zs2zjlzqbwio8q2fcllorl8zhfq1o","zoneType":"R"},"rsc89r49sjfo3jzmdtw5umfe40l7ubgjsn":{"ops":[{"insert":{"id":"r14uzgzr4di75ka99avoemo29zekwp8f6g"},"attributes":{"backgroundColor":"{\"relimha8\":\"\",\"1mnwkavc\":\"\",\"d8q9svce\":\"\"}"}},{"insert":{"id":"r1ssvb2s4nja8yvd0rn8mphuwkn0enuts6"},"attributes":{"backgroundColor":"{\"y54wwzob\":\"\",\"m5uy9ypz\":\"\",\"a792ydrz\":\"\"}"}},{"insert":{"id":"r106b45bpmofy8wfziee1lqtf9607uetyq"},"attributes":{"backgroundColor":"{\"lbk84bzw\":\"\",\"q48toq40\":\"\",\"uvnvn8yh\":\"\"}"}},{"insert":{"id":"r1vfiid42thhnq2507vwgc85ov4d1npm3z"},"attributes":{"backgroundColor":"{\"0q0tr20g\":\"\",\"g027qsc6\":\"\",\"lqwfcdhs\":\"\"}"}},{"insert":{"id":"r1lpt1t75zgs37bnlnd67jdcasbf9cf76b"},"attributes":{"backgroundColor":"{\"8ej21alv\":\"\",\"bysuewy2\":\"\",\"qzitrtyd\":\"\"}"}}],"zoneId":"rsc89r49sjfo3jzmdtw5umfe40l7ubgjsn","zoneType":"R"},"skvBHSF2xu":{"ops":[{"insert":"def load_embeddings(file_path=\"embeddings.json\"):\n    with open(file_path, \"r\", encoding=\"utf-8\") as f:\n        return json.load(f)\n"}],"zoneId":"skvBHSF2xu","zoneType":"Z"},"xr106b45bpmofy8wfziee1lqtf9607uetyqxc1a2ph7zaevbcdhpp8jswi8u55nl5y9c83":{"ops":[{"insert":"*","attributes":{"lineId":"u349r0tzlr","lmkr":"1"}},{"insert":"doubao-embedding-large-text-240915\n"}],"zoneId":"xr106b45bpmofy8wfziee1lqtf9607uetyqxc1a2ph7zaevbcdhpp8jswi8u55nl5y9c83","zoneType":"Z"},"xr106b45bpmofy8wfziee1lqtf9607uetyqxc1neueyo0q4da06q9iyayv84q2trf1vhu5":{"ops":[{"insert":"*","attributes":{"lineId":"u2ir90tqxg","lmkr":"1"}},{"insert":"无\n"}],"zoneId":"xr106b45bpmofy8wfziee1lqtf9607uetyqxc1neueyo0q4da06q9iyayv84q2trf1vhu5","zoneType":"Z"},"xr106b45bpmofy8wfziee1lqtf9607uetyqxc1talcl2izsll01kddnpheiz10ccfcagbf":{"ops":[{"insert":"*","attributes":{"lineId":"u3rzb0u83h","lmkr":"1"}},{"insert":"4096\n"},{"insert":"*","attributes":{"blockquote":"true","lineId":"u3twv0u9uo","lmkr":"1","wrapperIndent":"0"}},{"insert":"支持2048、512, 1024 降维使用\n"}],"zoneId":"xr106b45bpmofy8wfziee1lqtf9607uetyqxc1talcl2izsll01kddnpheiz10ccfcagbf","zoneType":"Z"},"xr114cb4ls0afthsztlrkza69ocynq9g3z0xc16qyyh1zvbhkmpuptuampf2eq80u36693":{"ops":[{"insert":"*","attributes":{"lineId":"u1zcf0tjrh","lmkr":"1"}},{"insert":"分析用户行为数据并向量化，计算用户兴趣与内容相似度，为用户推荐可能感兴趣的内容。\n"}],"zoneId":"xr114cb4ls0afthsztlrkza69ocynq9g3z0xc16qyyh1zvbhkmpuptuampf2eq80u36693","zoneType":"Z"},"xr114cb4ls0afthsztlrkza69ocynq9g3z0xc18om0leww6kf67gjlbwt84fgcialpq9n4":{"ops":[{"insert":"*","attributes":{"lineId":"u2w9p0twkz","lmkr":"1"}},{"insert":"内容推荐系统\n"}],"zoneId":"xr114cb4ls0afthsztlrkza69ocynq9g3z0xc18om0leww6kf67gjlbwt84fgcialpq9n4","zoneType":"Z"},"xr114cb4ls0afthsztlrkza69ocynq9g3z0xc1ep1egcsm4i4preuikyqfiajd62zms8fd":{"ops":[{"insert":"*","attributes":{"lineId":"u441q0udif","lmkr":"1"}},{"insert":"个性化推荐\n"}],"zoneId":"xr114cb4ls0afthsztlrkza69ocynq9g3z0xc1ep1egcsm4i4preuikyqfiajd62zms8fd","zoneType":"Z"},"xr12wiiiw9ekgo59l02dbmi4j342hp9amirxc16qyyh1zvbhkmpuptuampf2eq80u36693":{"ops":[{"insert":"*","attributes":{"lineId":"u2tnn0tv74","lmkr":"1"}},{"insert":"对大量文本内容向量化后，用聚类算法发现热点话题或流行趋势，为内容创作者提供参考。\n"}],"zoneId":"xr12wiiiw9ekgo59l02dbmi4j342hp9amirxc16qyyh1zvbhkmpuptuampf2eq80u36693","zoneType":"Z"},"xr12wiiiw9ekgo59l02dbmi4j342hp9amirxc18om0leww6kf67gjlbwt84fgcialpq9n4":{"ops":[{"insert":"\n"}],"zoneId":"xr12wiiiw9ekgo59l02dbmi4j342hp9amirxc18om0leww6kf67gjlbwt84fgcialpq9n4","zoneType":"Z"},"xr12wiiiw9ekgo59l02dbmi4j342hp9amirxc1ep1egcsm4i4preuikyqfiajd62zms8fd":{"ops":[{"insert":"*","attributes":{"lineId":"u4cq90uhhr","lmkr":"1"}},{"insert":"热点发现\n"}],"zoneId":"xr12wiiiw9ekgo59l02dbmi4j342hp9amirxc1ep1egcsm4i4preuikyqfiajd62zms8fd","zoneType":"Z"},"xr14uzgzr4di75ka99avoemo29zekwp8f6gxc1a2ph7zaevbcdhpp8jswi8u55nl5y9c83":{"ops":[{"insert":"*","attributes":{"lineId":"u4la20ulws","lmkr":"1"}},{"insert":"模型 ID（Model ID）","attributes":{"bold":"true"}},{"insert":"\n\n"}],"zoneId":"xr14uzgzr4di75ka99avoemo29zekwp8f6gxc1a2ph7zaevbcdhpp8jswi8u55nl5y9c83","zoneType":"Z"},"xr14uzgzr4di75ka99avoemo29zekwp8f6gxc1neueyo0q4da06q9iyayv84q2trf1vhu5":{"ops":[{"insert":"*","attributes":{"lineId":"u2gvc0tpxt","lmkr":"1"}},{"insert":"备注","attributes":{"bold":"true"}},{"insert":"\n"}],"zoneId":"xr14uzgzr4di75ka99avoemo29zekwp8f6gxc1neueyo0q4da06q9iyayv84q2trf1vhu5","zoneType":"Z"},"xr14uzgzr4di75ka99avoemo29zekwp8f6gxc1talcl2izsll01kddnpheiz10ccfcagbf":{"ops":[{"insert":"*","attributes":{"lineId":"u3dhr0u393","lmkr":"1"}},{"insert":"支持维度","attributes":{"bold":"true"}},{"insert":"\n"}],"zoneId":"xr14uzgzr4di75ka99avoemo29zekwp8f6gxc1talcl2izsll01kddnpheiz10ccfcagbf","zoneType":"Z"},"xr14yzsowo5iuol6job319z6eud6qm9k7gtxc16qyyh1zvbhkmpuptuampf2eq80u36693":{"ops":[{"insert":"*","attributes":{"lineId":"u3gas0u4cx","lmkr":"1"}},{"insert":"对大量优秀文本向量化学习，根据用户输入推荐词汇、短语或句子，提高写作质量和效率。\n"}],"zoneId":"xr14yzsowo5iuol6job319z6eud6qm9k7gtxc16qyyh1zvbhkmpuptuampf2eq80u36693","zoneType":"Z"},"xr14yzsowo5iuol6job319z6eud6qm9k7gtxc18om0leww6kf67gjlbwt84fgcialpq9n4":{"ops":[{"insert":"\n"}],"zoneId":"xr14yzsowo5iuol6job319z6eud6qm9k7gtxc18om0leww6kf67gjlbwt84fgcialpq9n4","zoneType":"Z"},"xr14yzsowo5iuol6job319z6eud6qm9k7gtxc1ep1egcsm4i4preuikyqfiajd62zms8fd":{"ops":[{"insert":"*","attributes":{"lineId":"u1vjs0th3u","lmkr":"1"}},{"insert":"辅助写作\n"}],"zoneId":"xr14yzsowo5iuol6job319z6eud6qm9k7gtxc1ep1egcsm4i4preuikyqfiajd62zms8fd","zoneType":"Z"},"xr179pg35gld5km7kdvov9vtiq9h0o0vn5uxc16qyyh1zvbhkmpuptuampf2eq80u36693":{"ops":[{"insert":"*","attributes":{"lineId":"u2ll30tr94","lmkr":"1"}},{"insert":"对社交媒体等渠道的大量文本数据向量化，快速识别热点话题和公众情绪变化趋势，为决策提供依据。\n"}],"zoneId":"xr179pg35gld5km7kdvov9vtiq9h0o0vn5uxc16qyyh1zvbhkmpuptuampf2eq80u36693","zoneType":"Z"},"xr179pg35gld5km7kdvov9vtiq9h0o0vn5uxc18om0leww6kf67gjlbwt84fgcialpq9n4":{"ops":[{"insert":"\n"}],"zoneId":"xr179pg35gld5km7kdvov9vtiq9h0o0vn5uxc18om0leww6kf67gjlbwt84fgcialpq9n4","zoneType":"Z"},"xr179pg35gld5km7kdvov9vtiq9h0o0vn5uxc1ep1egcsm4i4preuikyqfiajd62zms8fd":{"ops":[{"insert":"*","attributes":{"lineId":"u25w50tl09","lmkr":"1"}},{"insert":"舆情监测与分析\n"}],"zoneId":"xr179pg35gld5km7kdvov9vtiq9h0o0vn5uxc1ep1egcsm4i4preuikyqfiajd62zms8fd","zoneType":"Z"},"xr1f4bhj3smasjrw2ipiyd0otialop63p3kxc16qyyh1zvbhkmpuptuampf2eq80u36693":{"ops":[{"insert":"*","attributes":{"lineId":"txlvq0ruqs","lmkr":"1"}},{"insert":"理解用户问题并向量化，与知识库中的问题进行向量匹配，找到最相关答案。\n"}],"zoneId":"xr1f4bhj3smasjrw2ipiyd0otialop63p3kxc16qyyh1zvbhkmpuptuampf2eq80u36693","zoneType":"Z"},"xr1f4bhj3smasjrw2ipiyd0otialop63p3kxc18om0leww6kf67gjlbwt84fgcialpq9n4":{"ops":[{"insert":"*","attributes":{"lineId":"u2pmn0ttj6","lmkr":"1"}},{"insert":"问答系统\n"}],"zoneId":"xr1f4bhj3smasjrw2ipiyd0otialop63p3kxc18om0leww6kf67gjlbwt84fgcialpq9n4","zoneType":"Z"},"xr1f4bhj3smasjrw2ipiyd0otialop63p3kxc1ep1egcsm4i4preuikyqfiajd62zms8fd":{"ops":[{"insert":"*","attributes":{"lineId":"u4oqh0um6w","lmkr":"1"}},{"insert":"问题理解与答案匹配\n"}],"zoneId":"xr1f4bhj3smasjrw2ipiyd0otialop63p3kxc1ep1egcsm4i4preuikyqfiajd62zms8fd","zoneType":"Z"},"xr1gi2bvhqkdrl28zmczi7u7hnwhul79a2sxc16qyyh1zvbhkmpuptuampf2eq80u36693":{"ops":[{"insert":"*","attributes":{"lineId":"u4rj70unmi","lmkr":"1"}},{"insert":"在企业知识库、文档库中，基于向量模型快速准确检索员工相关文档。\n"}],"zoneId":"xr1gi2bvhqkdrl28zmczi7u7hnwhul79a2sxc16qyyh1zvbhkmpuptuampf2eq80u36693","zoneType":"Z"},"xr1gi2bvhqkdrl28zmczi7u7hnwhul79a2sxc18om0leww6kf67gjlbwt84fgcialpq9n4":{"ops":[{"insert":"\n"}],"zoneId":"xr1gi2bvhqkdrl28zmczi7u7hnwhul79a2sxc18om0leww6kf67gjlbwt84fgcialpq9n4","zoneType":"Z"},"xr1gi2bvhqkdrl28zmczi7u7hnwhul79a2sxc1ep1egcsm4i4preuikyqfiajd62zms8fd":{"ops":[{"insert":"*","attributes":{"lineId":"u3pco0u7ax","lmkr":"1"}},{"insert":"企业内部搜索\n"}],"zoneId":"xr1gi2bvhqkdrl28zmczi7u7hnwhul79a2sxc1ep1egcsm4i4preuikyqfiajd62zms8fd","zoneType":"Z"},"xr1h8o6a4o0479ic8eoqqbrrmqmnldgqstbxc16qyyh1zvbhkmpuptuampf2eq80u36693":{"ops":[{"insert":"*","attributes":{"lineId":"u3yhn0ubyj","lmkr":"1"}},{"insert":"结合知识图谱和文本向量化技术，在知识图谱中高效查询和推理，为用户提供准确答案。\n"}],"zoneId":"xr1h8o6a4o0479ic8eoqqbrrmqmnldgqstbxc16qyyh1zvbhkmpuptuampf2eq80u36693","zoneType":"Z"},"xr1h8o6a4o0479ic8eoqqbrrmqmnldgqstbxc18om0leww6kf67gjlbwt84fgcialpq9n4":{"ops":[{"insert":"\n"}],"zoneId":"xr1h8o6a4o0479ic8eoqqbrrmqmnldgqstbxc18om0leww6kf67gjlbwt84fgcialpq9n4","zoneType":"Z"},"xr1h8o6a4o0479ic8eoqqbrrmqmnldgqstbxc1ep1egcsm4i4preuikyqfiajd62zms8fd":{"ops":[{"insert":"*","attributes":{"lineId":"u5tmo0uqep","lmkr":"1"}},{"insert":"知识图谱问答\n"}],"zoneId":"xr1h8o6a4o0479ic8eoqqbrrmqmnldgqstbxc1ep1egcsm4i4preuikyqfiajd62zms8fd","zoneType":"Z"},"xr1j5o9ajila6aohnrn9mm4l4d7w2ovm67vxc16qyyh1zvbhkmpuptuampf2eq80u36693":{"ops":[{"insert":"*","attributes":{"lineId":"u1rx90tfak","lmkr":"1"}},{"insert":"对用户发布的内容、评论等行为数据向量化处理，构建用户画像和社交关系网络，支持社交网络个性化推荐等运营。\n"}],"zoneId":"xr1j5o9ajila6aohnrn9mm4l4d7w2ovm67vxc16qyyh1zvbhkmpuptuampf2eq80u36693","zoneType":"Z"},"xr1j5o9ajila6aohnrn9mm4l4d7w2ovm67vxc18om0leww6kf67gjlbwt84fgcialpq9n4":{"ops":[{"insert":"*","attributes":{"lineId":"u2nei0ts31","lmkr":"1"}},{"insert":"社交网络与舆情分析\n"}],"zoneId":"xr1j5o9ajila6aohnrn9mm4l4d7w2ovm67vxc18om0leww6kf67gjlbwt84fgcialpq9n4","zoneType":"Z"},"xr1j5o9ajila6aohnrn9mm4l4d7w2ovm67vxc1ep1egcsm4i4preuikyqfiajd62zms8fd":{"ops":[{"insert":"*","attributes":{"lineId":"u1tkt0tgsr","lmkr":"1"}},{"insert":"用户画像与社交关系分析\n"}],"zoneId":"xr1j5o9ajila6aohnrn9mm4l4d7w2ovm67vxc1ep1egcsm4i4preuikyqfiajd62zms8fd","zoneType":"Z"},"xr1lpt1t75zgs37bnlnd67jdcasbf9cf76bxc1a2ph7zaevbcdhpp8jswi8u55nl5y9c83":{"ops":[{"insert":"*","attributes":{"lineId":"u61jy0uuyd","lmkr":"1"}},{"insert":"doubao-embedding-text-240515\n"}],"zoneId":"xr1lpt1t75zgs37bnlnd67jdcasbf9cf76bxc1a2ph7zaevbcdhpp8jswi8u55nl5y9c83","zoneType":"Z"},"xr1lpt1t75zgs37bnlnd67jdcasbf9cf76bxc1neueyo0q4da06q9iyayv84q2trf1vhu5":{"ops":[{"insert":"*","attributes":{"lineId":"u5xne0us00","lmkr":"1"}},{"insert":"无\n"}],"zoneId":"xr1lpt1t75zgs37bnlnd67jdcasbf9cf76bxc1neueyo0q4da06q9iyayv84q2trf1vhu5","zoneType":"Z"},"xr1lpt1t75zgs37bnlnd67jdcasbf9cf76bxc1talcl2izsll01kddnpheiz10ccfcagbf":{"ops":[{"insert":"*","attributes":{"lineId":"tx6ng0rslq","lmkr":"1"}},{"insert":"2048\n"},{"insert":"*","attributes":{"blockquote":"true","lineId":"txglx0rtvs","lmkr":"1","wrapperIndent":"0"}},{"insert":"支持 512, 1024 降维使用\n"}],"zoneId":"xr1lpt1t75zgs37bnlnd67jdcasbf9cf76bxc1talcl2izsll01kddnpheiz10ccfcagbf","zoneType":"Z"},"xr1nvjkataqulgo1owodv2v4y3eao1mlze2xc16qyyh1zvbhkmpuptuampf2eq80u36693":{"ops":[{"insert":"*","attributes":{"lineId":"u3iv70u5h0","lmkr":"1"}},{"insert":"先将文本向量化，再用实体识别模型处理向量，提取关键实体信息用于知识图谱构建等。\n"}],"zoneId":"xr1nvjkataqulgo1owodv2v4y3eao1mlze2xc16qyyh1zvbhkmpuptuampf2eq80u36693","zoneType":"Z"},"xr1nvjkataqulgo1owodv2v4y3eao1mlze2xc18om0leww6kf67gjlbwt84fgcialpq9n4":{"ops":[{"insert":"\n"}],"zoneId":"xr1nvjkataqulgo1owodv2v4y3eao1mlze2xc18om0leww6kf67gjlbwt84fgcialpq9n4","zoneType":"Z"},"xr1nvjkataqulgo1owodv2v4y3eao1mlze2xc1ep1egcsm4i4preuikyqfiajd62zms8fd":{"ops":[{"insert":"*","attributes":{"lineId":"u2cbf0tnta","lmkr":"1"}},{"insert":"命名实体识别\n"}],"zoneId":"xr1nvjkataqulgo1owodv2v4y3eao1mlze2xc1ep1egcsm4i4preuikyqfiajd62zms8fd","zoneType":"Z"},"xr1o8w5bva3619e1lm6npztl44qsbwz3616xc16qyyh1zvbhkmpuptuampf2eq80u36693":{"ops":[{"insert":"*","attributes":{"lineId":"u31n50tyzz","lmkr":"1"}},{"insert":"将查询和文档转化为向量，让搜索引擎依据向量语义理解用户意图，返回更相关结果。\n"}],"zoneId":"xr1o8w5bva3619e1lm6npztl44qsbwz3616xc16qyyh1zvbhkmpuptuampf2eq80u36693","zoneType":"Z"},"xr1o8w5bva3619e1lm6npztl44qsbwz3616xc18om0leww6kf67gjlbwt84fgcialpq9n4":{"ops":[{"insert":"*","attributes":{"lineId":"u4tup0uow2","lmkr":"1"}},{"insert":"信息检索与搜索\n"}],"zoneId":"xr1o8w5bva3619e1lm6npztl44qsbwz3616xc18om0leww6kf67gjlbwt84fgcialpq9n4","zoneType":"Z"},"xr1o8w5bva3619e1lm6npztl44qsbwz3616xc1ep1egcsm4i4preuikyqfiajd62zms8fd":{"ops":[{"insert":"*","attributes":{"lineId":"u4f170uibf","lmkr":"1"}},{"insert":"搜索引擎优化\n"}],"zoneId":"xr1o8w5bva3619e1lm6npztl44qsbwz3616xc1ep1egcsm4i4preuikyqfiajd62zms8fd","zoneType":"Z"},"xr1qthajpfq8vumu8lk2ocm7q2142ikjumpxc16qyyh1zvbhkmpuptuampf2eq80u36693":{"ops":[{"insert":"*","attributes":{"lineId":"u5zkz0ut1x","lmkr":"1"}},{"insert":"将源语言和目标语言的文本向量化，更好地捕捉语义对应关系，提高翻译准确性和流畅性。\n"}],"zoneId":"xr1qthajpfq8vumu8lk2ocm7q2142ikjumpxc16qyyh1zvbhkmpuptuampf2eq80u36693","zoneType":"Z"},"xr1qthajpfq8vumu8lk2ocm7q2142ikjumpxc18om0leww6kf67gjlbwt84fgcialpq9n4":{"ops":[{"insert":"\n"}],"zoneId":"xr1qthajpfq8vumu8lk2ocm7q2142ikjumpxc18om0leww6kf67gjlbwt84fgcialpq9n4","zoneType":"Z"},"xr1qthajpfq8vumu8lk2ocm7q2142ikjumpxc1ep1egcsm4i4preuikyqfiajd62zms8fd":{"ops":[{"insert":"*","attributes":{"lineId":"u1xb80ti2x","lmkr":"1"}},{"insert":"机器翻译\n"}],"zoneId":"xr1qthajpfq8vumu8lk2ocm7q2142ikjumpxc1ep1egcsm4i4preuikyqfiajd62zms8fd","zoneType":"Z"},"xr1ssvb2s4nja8yvd0rn8mphuwkn0enuts6xc1a2ph7zaevbcdhpp8jswi8u55nl5y9c83":{"ops":[{"insert":"*","attributes":{"lineId":"u3wcj0uait","lmkr":"1"}},{"insert":"doubao-embedding-large-text-250515\n"}],"zoneId":"xr1ssvb2s4nja8yvd0rn8mphuwkn0enuts6xc1a2ph7zaevbcdhpp8jswi8u55nl5y9c83","zoneType":"Z"},"xr1ssvb2s4nja8yvd0rn8mphuwkn0enuts6xc1neueyo0q4da06q9iyayv84q2trf1vhu5":{"ops":[{"insert":"*","attributes":{"lineId":"u36540u0b4","lmkr":"1"}},{"insert":"需要L2归一化后使用\n"},{"insert":"*","attributes":{"lineId":"u38bl0u13f","lmkr":"1","tips":"{\"type\":\"tip\",\"isTitle\":true}"}},{"insert":"说明\n"},{"insert":"*","attributes":{"lineId":"u3bf60u2f3","lmkr":"1","tips":"{\"type\":\"tip\"}"}},{"insert":"L2归一化","attributes":{"bold":"true"}},{"insert":" 是将向量中每个元素除以该向量的L2范数（即各元素平方和的平方根），使归一化后的向量长度为1，从而消除不同特征间的量纲差异并保留相对大小关系。\n"}],"zoneId":"xr1ssvb2s4nja8yvd0rn8mphuwkn0enuts6xc1neueyo0q4da06q9iyayv84q2trf1vhu5","zoneType":"Z"},"xr1ssvb2s4nja8yvd0rn8mphuwkn0enuts6xc1talcl2izsll01kddnpheiz10ccfcagbf":{"ops":[{"insert":"*","attributes":{"lineId":"u4hg10ujy7","lmkr":"1"}},{"insert":"2048\n"},{"insert":"*","attributes":{"blockquote":"true","lineId":"u4jdc0ukiw","lmkr":"1","wrapperIndent":"0"}},{"insert":"支持2048、1024、512、256 降维使用\n"}],"zoneId":"xr1ssvb2s4nja8yvd0rn8mphuwkn0enuts6xc1talcl2izsll01kddnpheiz10ccfcagbf","zoneType":"Z"},"xr1uzbtzoyvmfa7fmrtwlu1otitzw6rjgpuxc16qyyh1zvbhkmpuptuampf2eq80u36693":{"ops":[{"insert":"*","attributes":{"lineId":"u3m7p0u6cv","lmkr":"1"}},{"insert":"作为文本生成模型的输入特征，依据给定主题或关键词的向量表示，生成符合逻辑和语境的文本。\n"}],"zoneId":"xr1uzbtzoyvmfa7fmrtwlu1otitzw6rjgpuxc16qyyh1zvbhkmpuptuampf2eq80u36693","zoneType":"Z"},"xr1uzbtzoyvmfa7fmrtwlu1otitzw6rjgpuxc18om0leww6kf67gjlbwt84fgcialpq9n4":{"ops":[{"insert":"*","attributes":{"lineId":"u28r40tmya","lmkr":"1"}},{"insert":"文本生成与辅助写作\n"}],"zoneId":"xr1uzbtzoyvmfa7fmrtwlu1otitzw6rjgpuxc18om0leww6kf67gjlbwt84fgcialpq9n4","zoneType":"Z"},"xr1uzbtzoyvmfa7fmrtwlu1otitzw6rjgpuxc1ep1egcsm4i4preuikyqfiajd62zms8fd":{"ops":[{"insert":"*","attributes":{"lineId":"u4ag60ugsg","lmkr":"1"}},{"insert":"文本生成\n"}],"zoneId":"xr1uzbtzoyvmfa7fmrtwlu1otitzw6rjgpuxc1ep1egcsm4i4preuikyqfiajd62zms8fd","zoneType":"Z"},"xr1vfiid42thhnq2507vwgc85ov4d1npm3zxc1a2ph7zaevbcdhpp8jswi8u55nl5y9c83":{"ops":[{"insert":"*","attributes":{"lineId":"u237b0tks0","lmkr":"1"}},{"insert":"doubao-embedding-text-240715\n"}],"zoneId":"xr1vfiid42thhnq2507vwgc85ov4d1npm3zxc1a2ph7zaevbcdhpp8jswi8u55nl5y9c83","zoneType":"Z"},"xr1vfiid42thhnq2507vwgc85ov4d1npm3zxc1neueyo0q4da06q9iyayv84q2trf1vhu5":{"ops":[{"insert":"*","attributes":{"lineId":"u50ef0up1v","lmkr":"1"}},{"insert":"无\n"}],"zoneId":"xr1vfiid42thhnq2507vwgc85ov4d1npm3zxc1neueyo0q4da06q9iyayv84q2trf1vhu5","zoneType":"Z"},"xr1vfiid42thhnq2507vwgc85ov4d1npm3zxc1talcl2izsll01kddnpheiz10ccfcagbf":{"ops":[{"insert":"*","attributes":{"lineId":"u46870uega","lmkr":"1"}},{"insert":"2560\n"},{"insert":"*","attributes":{"blockquote":"true","lineId":"u47xq0uf7a","lmkr":"1","wrapperIndent":"0"}},{"insert":"支持 512, 1024, 2048 降维使用\n"}],"zoneId":"xr1vfiid42thhnq2507vwgc85ov4d1npm3zxc1talcl2izsll01kddnpheiz10ccfcagbf","zoneType":"Z"},"xr1wjz4zbn63vjqstozzvjytg98bwftim3exc16qyyh1zvbhkmpuptuampf2eq80u36693":{"ops":[{"insert":"*","attributes":{"lineId":"u5vy60urcj","lmkr":"1"}},{"insert":"描述\n"}],"zoneId":"xr1wjz4zbn63vjqstozzvjytg98bwftim3exc16qyyh1zvbhkmpuptuampf2eq80u36693","zoneType":"Z"},"xr1wjz4zbn63vjqstozzvjytg98bwftim3exc18om0leww6kf67gjlbwt84fgcialpq9n4":{"ops":[{"insert":"*","attributes":{"lineId":"u2y8o0tx4n","lmkr":"1"}},{"insert":"领域\n"}],"zoneId":"xr1wjz4zbn63vjqstozzvjytg98bwftim3exc18om0leww6kf67gjlbwt84fgcialpq9n4","zoneType":"Z"},"xr1wjz4zbn63vjqstozzvjytg98bwftim3exc1ep1egcsm4i4preuikyqfiajd62zms8fd":{"ops":[{"insert":"*","attributes":{"lineId":"u2epp0tom1","lmkr":"1"}},{"insert":"细分场景\n"}],"zoneId":"xr1wjz4zbn63vjqstozzvjytg98bwftim3exc1ep1egcsm4i4preuikyqfiajd62zms8fd","zoneType":"Z"},"xr1yckt3hvft3ea1hfe3k1jipg33bgaj9ssxc16qyyh1zvbhkmpuptuampf2eq80u36693":{"ops":[{"insert":"*","attributes":{"lineId":"u41vj0uc1n","lmkr":"1"}},{"insert":"将文本数据输入向量模型得到向量表示，用于新闻分类、情感分析等。\n"}],"zoneId":"xr1yckt3hvft3ea1hfe3k1jipg33bgaj9ssxc16qyyh1zvbhkmpuptuampf2eq80u36693","zoneType":"Z"},"xr1yckt3hvft3ea1hfe3k1jipg33bgaj9ssxc18om0leww6kf67gjlbwt84fgcialpq9n4":{"ops":[{"insert":"*","attributes":{"lineId":"u2rm60tu44","lmkr":"1"}},{"insert":"自然语言处理\n"}],"zoneId":"xr1yckt3hvft3ea1hfe3k1jipg33bgaj9ssxc18om0leww6kf67gjlbwt84fgcialpq9n4","zoneType":"Z"},"xr1yckt3hvft3ea1hfe3k1jipg33bgaj9ssxc1ep1egcsm4i4preuikyqfiajd62zms8fd":{"ops":[{"insert":"*","attributes":{"lineId":"txp0p0rvaf","lmkr":"1"}},{"insert":"文本分类\n"}],"zoneId":"xr1yckt3hvft3ea1hfe3k1jipg33bgaj9ssxc1ep1egcsm4i4preuikyqfiajd62zms8fd","zoneType":"Z"}}}

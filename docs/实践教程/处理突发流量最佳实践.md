# 处理突发流量最佳实践
本文介绍存在突发流量的业务如何通过简单改造业务代码，避免因为突发流量导致限流，保障请求成功率。
# 什么是限流
方舟模型服务 API 会对单位时间内的请求次数、token 使用量、使用量的增长幅度及同时发起的请求数量进行限制，以保障服务的稳定运行和资源的合理分配。当调用方发起的请求触发 API 的限流，会返回 “429: 'Too Many Requests'” 错误。
### 为什么有限流
限流是 API 服务的一个常见实践，设置限流的作用如下：

* **减少 API 滥用或者误用**：恶意攻击会给服务器发送大量请求，试图让服务过载导致服务中断。方舟设置速率限制，可以有效防止此类情况。
* **保障用户公平地访问**：避免个人或者组织发送过多请求，导致其他人的服务访问和响应速度减慢。通过限制单个用户的请求通量（单位时间请求量），确保尽可能多的人能正常使用API，减少 API 服务速度变慢情况。
* **帮助管理基础设施的总体负载**：如果 API 服务请求极速增加，可能会给服务端资源带来很大扩容压力，导致性能问题。通过设置限流，可以帮助所有用户保持流畅、稳定的体验。

:::warning
所以，限流是单位时间服务用量可达的上限，而不是服务用量保障。当任务量较大或任务变化量较大（如突发流量）时，可能会触发限流。为了尽可能用好限流配额，避免失败请求占据请求配额，建议用户适配平台的流量爬坡、请求退避等机制。
:::
### 限流对象
当前方舟的限流对象主要有：

* **模型限流**：同主账号下，同模型（不区分版本）限流，由方舟设定，不可手动调整，各个模型默认限流信息请参见 [模型列表](/docs/82379/1330310)。
   :::tip
   如有超额的流量需求，请工单提交提额申请。
   :::
* **推理接入点限流**：推理接入点（EndPoint，后简称 EP）限流，作用于推理接入点，用户可以自行调整，用于灵活控制应用的模型服务使用量。

### 限流类型
方舟提供了不同的限流指标。

| | | | \
|限流类型 |\
|<div style="width:20%"></div> |解释说明 |\
| |<div style="width:50%"></div> |适用对象 |\
| | |<div style="width:30%"></div> |
|---|---|---|
| | | | \
|TPM |每分钟可以处理的 token 量限制，包含模型的输入和输出。 |通常是在线推理中按 token 计费模型的模型服务的限流指标。 |
| | | | \
|TPD |每天可以处理的 token 量限制，包含模型的输入和输出。 |通常是批量处理的模型服务的限流指标。 |
| | | | \
|RPM |每分钟可发起的请求量限制，用以防 Dos 攻击。 |几乎所有模型都有对应 RPM 指标。 |
| | | | \
|IPM |每分钟可生成的图片数量限制，面向生图模型。 |通常是图片生成模型的模型服务的限流指标。 |
| | | | \
|Inflight  Batchsize |并行在途请求数，同主账号下指定模型同时在处理的请求数量限制，在途请求包括排队、数据传输、计算处理、数据回传全流程的请求。 |几乎所有模型都有对应的并发数指标。 |

### 限流错误码
> 详细方舟错误码见 [错误码](/docs/82379/1299023)。

# 什么是突发流量
在单位时间内请求量产生剧烈波动，如突然发起大量的请求，常见在定时数据处理任务、热点事件等场景，相比前一分钟增加了300 wTPM 或每3分钟内流量增加了20%，会被方舟认定为是突发流量（平台会按照实际水位和承载力动态调整认定标准）。TPM图如下所示：

![Image](https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/77f12271fa144237ac9bb1ca92331b96~tplv-goo7wpa0wc-image.image =3376x)
> 具体推理接入点的 Token速率以及RPM可以在方舟控制台 [在线推理](https://console.volcengine.com/ark/region:ark+cn-beijing/endpoint) > 推理接入点的详情页 > **监控** 页签图表中查看。

# 平台处理策略
在此场景下，平台会对指定模型的服务集群进行快速扩容，以逐步承载住服务。同时，为了保障多数用户的使用体验，当突发流量抢占过多资源影响整体服务可用性时，平台将优先限制/熔断突发流量，来保障其他用户的可用性。在触发限制和熔断时，方舟会对突增的请求返回 “429: 'Too Many Requests'” 错误信息，并在资源扩容到一定程度后（分钟级）逐步恢复。
突发流量限流错误码信息如下：

| | | | | | \
|状态码 |错误类型 |错误码 |错误信息 |含义 |
|---|---|---|---|---|
| | | | | | \
|429 |TooManyRequests |ServerOverloaded |The service is currently unable to handle additional requests due to server overload. Please retry later. Request ID: {id} |服务资源紧张，请您稍后重试。常出现在调用流量突增或刚开始调用长时间未使用的推理接入点。 |

存在突发流量的业务，在任务请求时可以考虑下面策略来避免限流/熔断。
# 实践 QPS 爬坡策略（推荐）
客户端通过实时监测服务端响应状态，动态调整请求速率，逐步提升吞吐量，从而有效避免服务限流、确保服务稳定性。
## 核心设计思路
QPS 爬坡工作原理如下图所示，统计固定时间间隔的限流错误，来评估线上服务负载。

1. 逐步提升请求发送速率（QPS）；
2. 当发现错误率提升时，按照策略降低或稳定 QPS；
3. 当服务稳定后继续提升QPS，并循环1、2；
4. 最终达到平台对应模型的总限流（TPM、RPM）。

<img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI3NTVweCIgaGVpZ2h0PSI4OTVweCIgdmlld0JveD0iLTAuNSAtMC41IDc1NSA4OTUiPjxkZWZzLz48Zz48cmVjdCB4PSIyIiB5PSIyIiB3aWR0aD0iNzUwIiBoZWlnaHQ9Ijg5MCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSJub25lIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PHJlY3QgeD0iMTUyIiB5PSI3MiIgd2lkdGg9IjU2MCIgaGVpZ2h0PSI0MzAiIGZpbGwtb3BhY2l0eT0iMC41IiBmaWxsPSIjZDVlOGQ0IiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjUiIHN0cm9rZS1kYXNoYXJyYXk9IjMgMyIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxyZWN0IHg9IjE1MiIgeT0iNTIyIiB3aWR0aD0iNTYwIiBoZWlnaHQ9IjM0MCIgZmlsbC1vcGFjaXR5PSIwLjUiIGZpbGw9IiNkNWU4ZDQiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuNSIgc3Ryb2tlLWRhc2hhcnJheT0iMyAzIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PHBhdGggZD0iTSA2MzIgNTIgTCA2MzIgODUuNjMiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ic3Ryb2tlIi8+PHBhdGggZD0iTSA2MzIgOTAuODggTCA2MjguNSA4My44OCBMIDYzMiA4NS42MyBMIDYzNS41IDgzLjg4IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PHJlY3QgeD0iNTcyIiB5PSIxMiIgd2lkdGg9IjEyMCIgaGVpZ2h0PSI0MCIgcng9IjIwIiByeT0iMjAiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjUgLTAuNSkiPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSBjZW50ZXI7IGp1c3RpZnktY29udGVudDogdW5zYWZlIGNlbnRlcjsgd2lkdGg6IDExOHB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDMycHg7IG1hcmdpbi1sZWZ0OiA1NzNweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogIzAwMDAwMDsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+5Y+R6LW36K+35rGCPC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48cmVjdCB4PSI1NzIiIHk9IjQzMiIgd2lkdGg9IjEyMCIgaGVpZ2h0PSI0MCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KSI+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OiB2aXNpYmxlOyB0ZXh0LWFsaWduOiBsZWZ0OyIgcG9pbnRlci1ldmVudHM9Im5vbmUiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogMTE4cHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogNDUycHg7IG1hcmdpbi1sZWZ0OiA1NzNweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogIzAwMDAwMDsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+562J5b6F6YeN6K+VPC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48cGF0aCBkPSJNIDYzMiAxNzIgTCA2MzIgNDI1LjYzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9InN0cm9rZSIvPjxwYXRoIGQ9Ik0gNjMyIDQzMC44OCBMIDYyOC41IDQyMy44OCBMIDYzMiA0MjUuNjMgTCA2MzUuNSA0MjMuODggWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiB1bnNhZmUgY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHVuc2FmZSBjZW50ZXI7IHdpZHRoOiAxcHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogMjcxcHg7IG1hcmdpbi1sZWZ0OiA2MzFweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogIzAwMDAwMDsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgIj7ku6TniYzkuI3otrM8L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjxwYXRoIGQ9Ik0gNTcyIDEzMiBMIDQzMiAxMzIgTCA0MzIgMjA1LjYzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9InN0cm9rZSIvPjxwYXRoIGQ9Ik0gNDMyIDIxMC44OCBMIDQyOC41IDIwMy44OCBMIDQzMiAyMDUuNjMgTCA0MzUuNSAyMDMuODggWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiB1bnNhZmUgY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHVuc2FmZSBjZW50ZXI7IHdpZHRoOiAxcHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogMTMycHg7IG1hcmdpbi1sZWZ0OiA1MTdweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogIzAwMDAwMDsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgIj7ojrflj5bku6TniYw8L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjxwYXRoIGQ9Ik0gNjMyIDkyIEwgNjkyIDEzMiBMIDYzMiAxNzIgTCA1NzIgMTMyIFoiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KSI+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OiB2aXNpYmxlOyB0ZXh0LWFsaWduOiBsZWZ0OyIgcG9pbnRlci1ldmVudHM9Im5vbmUiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogMTE4cHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogMTMycHg7IG1hcmdpbi1sZWZ0OiA1NzNweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogIzAwMDAwMDsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+5Luk54mM5qG26ZmQ5rWBPC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48cGF0aCBkPSJNIDQzMiAyNTIgTCA0MzIgMjg1LjYzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9InN0cm9rZSIvPjxwYXRoIGQ9Ik0gNDMyIDI5MC44OCBMIDQyOC41IDI4My44OCBMIDQzMiAyODUuNjMgTCA0MzUuNSAyODMuODggWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48cmVjdCB4PSIzNzIiIHk9IjIxMiIgd2lkdGg9IjEyMCIgaGVpZ2h0PSI0MCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KSI+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OiB2aXNpYmxlOyB0ZXh0LWFsaWduOiBsZWZ0OyIgcG9pbnRlci1ldmVudHM9Im5vbmUiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogMTE4cHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogMjMycHg7IG1hcmdpbi1sZWZ0OiAzNzNweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogIzAwMDAwMDsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+5Y+R6YCB6K+35rGCPC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48cGF0aCBkPSJNIDQzMiAzNzIgTCA0MzIgNDA1LjYzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9InN0cm9rZSIvPjxwYXRoIGQ9Ik0gNDMyIDQxMC44OCBMIDQyOC41IDQwMy44OCBMIDQzMiA0MDUuNjMgTCA0MzUuNSA0MDMuODggWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiB1bnNhZmUgY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHVuc2FmZSBjZW50ZXI7IHdpZHRoOiAxcHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogMzg5cHg7IG1hcmdpbi1sZWZ0OiA0MzJweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogIzAwMDAwMDsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgIj7lpLHotKU8L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjxwYXRoIGQ9Ik0gMzcyIDMzMiBMIDcyIDMzMiBMIDcyIDgwNS42MyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJzdHJva2UiLz48cGF0aCBkPSJNIDcyIDgxMC44OCBMIDY4LjUgODAzLjg4IEwgNzIgODA1LjYzIEwgNzUuNSA4MDMuODggWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiB1bnNhZmUgY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHVuc2FmZSBjZW50ZXI7IHdpZHRoOiAxcHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogMzMzcHg7IG1hcmdpbi1sZWZ0OiAyMzNweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogIzAwMDAwMDsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgIj7mraPnoa48L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjxwYXRoIGQ9Ik0gNDMyIDI5MiBMIDQ5MiAzMzIgTCA0MzIgMzcyIEwgMzcyIDMzMiBaIiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjUgLTAuNSkiPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSBjZW50ZXI7IGp1c3RpZnktY29udGVudDogdW5zYWZlIGNlbnRlcjsgd2lkdGg6IDExOHB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDMzMnB4OyBtYXJnaW4tbGVmdDogMzczcHg7Ij48ZGl2IHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6ICMwMDAwMDA7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IHdoaXRlLXNwYWNlOiBub3JtYWw7IHdvcmQtd3JhcDogbm9ybWFsOyAiPuacjeWKoeerr+WTjeW6lDwvZGl2PjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PHBhdGggZD0iTSA0OTIgNDUyIEwgNTY1LjYzIDQ1MiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJzdHJva2UiLz48cGF0aCBkPSJNIDU3MC44OCA0NTIgTCA1NjMuODggNDU1LjUgTCA1NjUuNjMgNDUyIEwgNTYzLjg4IDQ0OC41IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KSI+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OiB2aXNpYmxlOyB0ZXh0LWFsaWduOiBsZWZ0OyIgcG9pbnRlci1ldmVudHM9Im5vbmUiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogMXB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDQ1MnB4OyBtYXJnaW4tbGVmdDogNTIzcHg7Ij48ZGl2IHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6ICMwMDAwMDA7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IHdoaXRlLXNwYWNlOiBub3dyYXA7ICI+5Y+v6YeN6K+VPC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48cGF0aCBkPSJNIDQzMiA0OTIgTCA0MzIgNTI1LjYzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9InN0cm9rZSIvPjxwYXRoIGQ9Ik0gNDMyIDUzMC44OCBMIDQyOC41IDUyMy44OCBMIDQzMiA1MjUuNjMgTCA0MzUuNSA1MjMuODggWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiB1bnNhZmUgY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHVuc2FmZSBjZW50ZXI7IHdpZHRoOiAxcHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogNTEzcHg7IG1hcmdpbi1sZWZ0OiA0MzNweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogIzAwMDAwMDsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgIj7plJnor6/nsbvlnos8L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjxwYXRoIGQ9Ik0gNDMyIDQxMiBMIDQ5MiA0NTIgTCA0MzIgNDkyIEwgMzcyIDQ1MiBaIiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjUgLTAuNSkiPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSBjZW50ZXI7IGp1c3RpZnktY29udGVudDogdW5zYWZlIGNlbnRlcjsgd2lkdGg6IDExOHB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDQ1MnB4OyBtYXJnaW4tbGVmdDogMzczcHg7Ij48ZGl2IHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6ICMwMDAwMDA7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IHdoaXRlLXNwYWNlOiBub3JtYWw7IHdvcmQtd3JhcDogbm9ybWFsOyAiPuiusOW9lemUmeivrzwvZGl2PjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PHJlY3QgeD0iMTIiIHk9IjgxMiIgd2lkdGg9IjEyMCIgaGVpZ2h0PSI0MCIgcng9IjIwIiByeT0iMjAiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjUgLTAuNSkiPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSBjZW50ZXI7IGp1c3RpZnktY29udGVudDogdW5zYWZlIGNlbnRlcjsgd2lkdGg6IDExOHB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDgzMnB4OyBtYXJnaW4tbGVmdDogMTNweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogIzAwMDAwMDsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+6L+U5Zue57uT5p6cPC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48cGF0aCBkPSJNIDQzMiA1NzIgTCA0MzIgNjA1LjYzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9InN0cm9rZSIvPjxwYXRoIGQ9Ik0gNDMyIDYxMC44OCBMIDQyOC41IDYwMy44OCBMIDQzMiA2MDUuNjMgTCA0MzUuNSA2MDMuODggWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48cmVjdCB4PSIzNzIiIHk9IjUzMiIgd2lkdGg9IjEyMCIgaGVpZ2h0PSI0MCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KSI+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OiB2aXNpYmxlOyB0ZXh0LWFsaWduOiBsZWZ0OyIgcG9pbnRlci1ldmVudHM9Im5vbmUiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogMTE4cHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogNTUycHg7IG1hcmdpbi1sZWZ0OiAzNzNweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogIzAwMDAwMDsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+6K6h566X6ZSZ6K+v546HPC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48cGF0aCBkPSJNIDQzMiA2OTIgTCA0MzIgNzI1LjYzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9InN0cm9rZSIvPjxwYXRoIGQ9Ik0gNDMyIDczMC44OCBMIDQyOC41IDcyMy44OCBMIDQzMiA3MjUuNjMgTCA0MzUuNSA3MjMuODggWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiB1bnNhZmUgY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHVuc2FmZSBjZW50ZXI7IHdpZHRoOiAxcHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogNzA4cHg7IG1hcmdpbi1sZWZ0OiA0MzJweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogIzAwMDAwMDsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgIj7kvY7plJnor6/njoc8L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjxwYXRoIGQ9Ik0gNDkyIDY1MiBMIDU5MiA2NTIgTCA1OTIgNzI1LjYzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9InN0cm9rZSIvPjxwYXRoIGQ9Ik0gNTkyIDczMC44OCBMIDU4OC41IDcyMy44OCBMIDU5MiA3MjUuNjMgTCA1OTUuNSA3MjMuODggWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiB1bnNhZmUgY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHVuc2FmZSBjZW50ZXI7IHdpZHRoOiAxcHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogNzA3cHg7IG1hcmdpbi1sZWZ0OiA1OTNweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogIzAwMDAwMDsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgIj7pm7bplJnor688L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjxwYXRoIGQ9Ik0gMzcyIDY1MiBMIDI3MiA2NTIgTCAyNzIgNzI1LjYzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9InN0cm9rZSIvPjxwYXRoIGQ9Ik0gMjcyIDczMC44OCBMIDI2OC41IDcyMy44OCBMIDI3MiA3MjUuNjMgTCAyNzUuNSA3MjMuODggWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiB1bnNhZmUgY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHVuc2FmZSBjZW50ZXI7IHdpZHRoOiAxcHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogNzA4cHg7IG1hcmdpbi1sZWZ0OiAyNzNweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogIzAwMDAwMDsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgIj7pq5jplJnor6/njoc8L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjxwYXRoIGQ9Ik0gNDMyIDYxMiBMIDQ5MiA2NTIgTCA0MzIgNjkyIEwgMzcyIDY1MiBaIiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjUgLTAuNSkiPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSBjZW50ZXI7IGp1c3RpZnktY29udGVudDogdW5zYWZlIGNlbnRlcjsgd2lkdGg6IDExOHB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDY1MnB4OyBtYXJnaW4tbGVmdDogMzczcHg7Ij48ZGl2IHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6ICMwMDAwMDA7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IHdoaXRlLXNwYWNlOiBub3JtYWw7IHdvcmQtd3JhcDogbm9ybWFsOyAiPuiwg+aVtOetlueVpTwvZGl2PjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PHBhdGggZD0iTSAyNzIgNzcyIEwgMjcyIDc5MiBMIDQzMiA3OTIgTCA0MzIgODA1LjYzIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9InN0cm9rZSIvPjxwYXRoIGQ9Ik0gNDMyIDgxMC44OCBMIDQyOC41IDgwMy44OCBMIDQzMiA4MDUuNjMgTCA0MzUuNSA4MDMuODggWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48cmVjdCB4PSIyMTIiIHk9IjczMiIgd2lkdGg9IjEyMCIgaGVpZ2h0PSI0MCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KSI+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OiB2aXNpYmxlOyB0ZXh0LWFsaWduOiBsZWZ0OyIgcG9pbnRlci1ldmVudHM9Im5vbmUiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogMTE4cHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogNzUycHg7IG1hcmdpbi1sZWZ0OiAyMTNweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogIzAwMDAwMDsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+6ZmN5L2OIFFQUzwvZGl2PjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PHBhdGggZD0iTSA0MzIgNzcyIEwgNDMyIDgwNS42MyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJzdHJva2UiLz48cGF0aCBkPSJNIDQzMiA4MTAuODggTCA0MjguNSA4MDMuODggTCA0MzIgODA1LjYzIEwgNDM1LjUgODAzLjg4IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PHJlY3QgeD0iMzcyIiB5PSI3MzIiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjUgLTAuNSkiPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSBjZW50ZXI7IGp1c3RpZnktY29udGVudDogdW5zYWZlIGNlbnRlcjsgd2lkdGg6IDExOHB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDc1MnB4OyBtYXJnaW4tbGVmdDogMzczcHg7Ij48ZGl2IHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6ICMwMDAwMDA7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IHdoaXRlLXNwYWNlOiBub3JtYWw7IHdvcmQtd3JhcDogbm9ybWFsOyAiPuaPkOWNhyBRUFM8L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9nPjxwYXRoIGQ9Ik0gNTkyIDc3MiBMIDU5MiA3OTIgTCA0MzIgNzkyIEwgNDMyIDgwNS42MyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJzdHJva2UiLz48cGF0aCBkPSJNIDQzMiA4MTAuODggTCA0MjguNSA4MDMuODggTCA0MzIgODA1LjYzIEwgNDM1LjUgODAzLjg4IFoiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PHJlY3QgeD0iNTMyIiB5PSI3MzIiIHdpZHRoPSIxMjAiIGhlaWdodD0iNDAiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjUgLTAuNSkiPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSBjZW50ZXI7IGp1c3RpZnktY29udGVudDogdW5zYWZlIGNlbnRlcjsgd2lkdGg6IDExOHB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDc1MnB4OyBtYXJnaW4tbGVmdDogNTMzcHg7Ij48ZGl2IHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6ICMwMDAwMDA7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IHdoaXRlLXNwYWNlOiBub3JtYWw7IHdvcmQtd3JhcDogbm9ybWFsOyAiPuW/q+mAn+aPkOWNhzwvZGl2PjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PHBhdGggZD0iTSA0OTIgODMyIEwgNzMyIDgzMiBMIDczMiAxMzIgTCA2OTguMzcgMTMyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9InN0cm9rZSIvPjxwYXRoIGQ9Ik0gNjkzLjEyIDEzMiBMIDcwMC4xMiAxMjguNSBMIDY5OC4zNyAxMzIgTCA3MDAuMTIgMTM1LjUgWiIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48cmVjdCB4PSIzNzIiIHk9IjgxMiIgd2lkdGg9IjEyMCIgaGVpZ2h0PSI0MCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KSI+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OiB2aXNpYmxlOyB0ZXh0LWFsaWduOiBsZWZ0OyIgcG9pbnRlci1ldmVudHM9Im5vbmUiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogMTE4cHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogODMycHg7IG1hcmdpbi1sZWZ0OiAzNzNweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogY2VudGVyOyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogIzAwMDAwMDsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+5pu05paw6ZmQ5rWB5ZmoPC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48cmVjdCB4PSIxNzIiIHk9IjU0MiIgd2lkdGg9IjE0MCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KSI+PGZvcmVpZ25PYmplY3Qgc3R5bGU9Im92ZXJmbG93OiB2aXNpYmxlOyB0ZXh0LWFsaWduOiBsZWZ0OyIgcG9pbnRlci1ldmVudHM9Im5vbmUiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgZmxleC1zdGFydDsgd2lkdGg6IDEzOHB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDU1MnB4OyBtYXJnaW4tbGVmdDogMTc0cHg7Ij48ZGl2IHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246IGxlZnQ7ICI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiAjMDAwMDAwOyBsaW5lLWhlaWdodDogMS4yOyBwb2ludGVyLWV2ZW50czogYWxsOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB3b3JkLXdyYXA6IG5vcm1hbDsgIj5RUFMg5Yqo5oCB6LCD5pW0PC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0PjwvZz48cmVjdCB4PSIxNzIiIHk9IjgyIiB3aWR0aD0iMTQwIiBoZWlnaHQ9IjIwIiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC41IC0wLjUpIj48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiB1bnNhZmUgY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHVuc2FmZSBmbGV4LXN0YXJ0OyB3aWR0aDogMTM4cHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogOTJweDsgbWFyZ2luLWxlZnQ6IDE3NHB4OyI+PGRpdiBzdHlsZT0iYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC1zaXplOiAwOyB0ZXh0LWFsaWduOiBsZWZ0OyAiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxMnB4OyBmb250LWZhbWlseTogSGVsdmV0aWNhOyBjb2xvcjogIzAwMDAwMDsgbGluZS1oZWlnaHQ6IDEuMjsgcG9pbnRlci1ldmVudHM6IGFsbDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+UVBTIOeIrOWdoeaguOW/g+a1geeoizwvZGl2PjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjwvc3ZnPg==" from="flow-chart" payload="{"data":{"mxGraphModel":{"dx":"2253","dy":"746","grid":"1","gridSize":"10","guides":"1","tooltips":"1","connect":"1","arrows":"1","fold":"1","page":"1","pageScale":"1","pageWidth":"827","pageHeight":"1169"},"mxCellMap":{"iA7pi4uV":{"id":"iA7pi4uV"},"fNOcu83V":{"id":"fNOcu83V","parent":"iA7pi4uV"},"23929Rpd":{"id":"23929Rpd","value":"","style":"rounded=0;whiteSpace=wrap;html=1;strokeColor=none;","parent":"fNOcu83V","vertex":"1","diagramName":"Rectangle","diagramCategory":"general","-0-mxGeometry":{"x":"-290","y":"150","width":"750","height":"890","as":"geometry"}},"K2SYiLkS":{"id":"K2SYiLkS","value":"","style":"rounded=0;whiteSpace=wrap;html=1;fillColor=#D5E8D4;dashed=1;opacity=50;","parent":"fNOcu83V","vertex":"1","diagramName":"Rectangle","diagramCategory":"general","-0-mxGeometry":{"x":"-140","y":"220","width":"560","height":"430","as":"geometry"}},"jeUdDnlW":{"id":"jeUdDnlW","value":"","style":"rounded=0;whiteSpace=wrap;html=1;fillColor=#D5E8D4;dashed=1;opacity=50;","parent":"fNOcu83V","vertex":"1","diagramName":"Rectangle","diagramCategory":"general","-0-mxGeometry":{"x":"-140","y":"670","width":"560","height":"340","as":"geometry"}},"By58GL5g":{"id":"By58GL5g","value":"","style":"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;","parent":"fNOcu83V","source":"36obyVJM","target":"VBY8Jshy","edge":"1","-0-mxGeometry":{"relative":"1","as":"geometry","-0-mxPoint":{"x":"340","y":"160","as":"targetPoint"}}},"36obyVJM":{"id":"36obyVJM","value":"发起请求","style":"rounded=1;whiteSpace=wrap;html=1;arcSize=50;","parent":"fNOcu83V","vertex":"1","diagramName":"RoundedRectangle","diagramCategory":"general","-0-mxGeometry":{"x":"280","y":"160","width":"120","height":"40","as":"geometry"}},"TixMA2Qc":{"id":"TixMA2Qc","value":"等待重试","style":"rounded=0;whiteSpace=wrap;html=1;","parent":"fNOcu83V","vertex":"1","diagramName":"Rectangle","diagramCategory":"general","-0-mxGeometry":{"x":"280","y":"580","width":"120","height":"40","as":"geometry"}},"4dvUD2ZM":{"id":"4dvUD2ZM","value":"","style":"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;","parent":"fNOcu83V","source":"VBY8Jshy","target":"TixMA2Qc","edge":"1","-0-mxGeometry":{"relative":"1","as":"geometry"}},"19QPcx3J":{"id":"19QPcx3J","value":"令牌不足","style":"edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];","parent":"4dvUD2ZM","vertex":"1","connectable":"0","-0-mxGeometry":{"x":"-0.25","y":"-2","relative":"1","as":"geometry","-0-mxPoint":{"as":"offset"}}},"gut5ZCwk":{"id":"gut5ZCwk","style":"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;","parent":"fNOcu83V","source":"VBY8Jshy","target":"hrYe4Cef","edge":"1","-0-mxGeometry":{"relative":"1","as":"geometry"}},"n4uG7O09":{"id":"n4uG7O09","value":"获取令牌","style":"edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];","parent":"gut5ZCwk","vertex":"1","connectable":"0","-0-mxGeometry":{"x":"-0.1889","y":"-1","relative":"1","as":"geometry","-0-mxPoint":{"x":"33","as":"offset"}}},"VBY8Jshy":{"id":"VBY8Jshy","value":"令牌桶限流","style":"rhombus;whiteSpace=wrap;html=1;","parent":"fNOcu83V","vertex":"1","diagramName":"Diamond","diagramCategory":"general","-0-mxGeometry":{"x":"280","y":"240","width":"120","height":"80","as":"geometry"}},"f2JwEy8t":{"id":"f2JwEy8t","value":"","style":"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;","parent":"fNOcu83V","source":"hrYe4Cef","target":"FPd6suWn","edge":"1","-0-mxGeometry":{"relative":"1","as":"geometry"}},"hrYe4Cef":{"id":"hrYe4Cef","value":"发送请求","style":"rounded=0;whiteSpace=wrap;html=1;","parent":"fNOcu83V","vertex":"1","diagramName":"Rectangle","diagramCategory":"general","-0-mxGeometry":{"x":"80","y":"360","width":"120","height":"40","as":"geometry"}},"k3fMop76":{"id":"k3fMop76","value":"","style":"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;","parent":"fNOcu83V","source":"FPd6suWn","target":"0rpFoZ4T","edge":"1","-0-mxGeometry":{"relative":"1","as":"geometry"}},"p1KPC0In":{"id":"p1KPC0In","value":"失败","style":"edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];","parent":"k3fMop76","vertex":"1","connectable":"0","-0-mxGeometry":{"x":"-0.2","y":"-1","relative":"1","as":"geometry","-0-mxPoint":{"as":"offset"}}},"MoYEEcTp":{"id":"MoYEEcTp","value":"","style":"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;","parent":"fNOcu83V","source":"FPd6suWn","target":"zu3L0HMs","edge":"1","-0-mxGeometry":{"relative":"1","as":"geometry","-0-mxPoint":{"y":"480","as":"targetPoint"}}},"GSP3QsxK":{"id":"GSP3QsxK","value":"正确","style":"edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];","parent":"MoYEEcTp","vertex":"1","connectable":"0","-0-mxGeometry":{"x":"-0.1","relative":"1","as":"geometry","-0-mxPoint":{"x":"160","y":"-51","as":"offset"}}},"FPd6suWn":{"id":"FPd6suWn","value":"服务端响应","style":"rhombus;whiteSpace=wrap;html=1;","parent":"fNOcu83V","vertex":"1","diagramName":"Diamond","diagramCategory":"general","-0-mxGeometry":{"x":"80","y":"440","width":"120","height":"80","as":"geometry"}},"VYdsP55I":{"id":"VYdsP55I","style":"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;","parent":"fNOcu83V","source":"0rpFoZ4T","target":"TixMA2Qc","edge":"1","-0-mxGeometry":{"relative":"1","as":"geometry"}},"lRCF68KV":{"id":"lRCF68KV","value":"可重试","style":"edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];","parent":"VYdsP55I","vertex":"1","connectable":"0","-0-mxGeometry":{"x":"-0.25","y":"1","relative":"1","as":"geometry","-0-mxPoint":{"as":"offset"}}},"24W1qbCT":{"id":"24W1qbCT","style":"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;","parent":"fNOcu83V","source":"0rpFoZ4T","target":"Q5feYUdl","edge":"1","-0-mxGeometry":{"relative":"1","as":"geometry"}},"sHTSa4ji":{"id":"sHTSa4ji","value":"错误类型","style":"edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];","parent":"24W1qbCT","vertex":"1","connectable":"0","-0-mxGeometry":{"x":"0.131","y":"-1","relative":"1","as":"geometry","-0-mxPoint":{"x":"1","y":"-3","as":"offset"}}},"0rpFoZ4T":{"id":"0rpFoZ4T","value":"记录错误","style":"rhombus;whiteSpace=wrap;html=1;","parent":"fNOcu83V","vertex":"1","diagramName":"Diamond","diagramCategory":"general","-0-mxGeometry":{"x":"80","y":"560","width":"120","height":"80","as":"geometry"}},"zu3L0HMs":{"id":"zu3L0HMs","value":"返回结果","style":"rounded=1;whiteSpace=wrap;html=1;arcSize=50;","parent":"fNOcu83V","vertex":"1","diagramName":"RoundedRectangle","diagramCategory":"general","-0-mxGeometry":{"x":"-280","y":"960","width":"120","height":"40","as":"geometry"}},"NNm8nyQ6":{"id":"NNm8nyQ6","value":"","style":"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;","parent":"fNOcu83V","source":"Q5feYUdl","target":"GYIAbqTa","edge":"1","-0-mxGeometry":{"relative":"1","as":"geometry"}},"Q5feYUdl":{"id":"Q5feYUdl","value":"计算错误率","style":"rounded=0;whiteSpace=wrap;html=1;","parent":"fNOcu83V","vertex":"1","diagramName":"Rectangle","diagramCategory":"general","-0-mxGeometry":{"x":"80","y":"680","width":"120","height":"40","as":"geometry"}},"5EW4iYiX":{"id":"5EW4iYiX","value":"","style":"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;","parent":"fNOcu83V","source":"GYIAbqTa","target":"yNpc8Dti","edge":"1","-0-mxGeometry":{"relative":"1","as":"geometry"}},"GuKdBCMV":{"id":"GuKdBCMV","value":"低错误率","style":"edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];","parent":"5EW4iYiX","vertex":"1","connectable":"0","-0-mxGeometry":{"x":"-0.25","y":"-1","relative":"1","as":"geometry","-0-mxPoint":{"as":"offset"}}},"TOvMFRGs":{"id":"TOvMFRGs","style":"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;","parent":"fNOcu83V","source":"GYIAbqTa","target":"BZYwMDnh","edge":"1","-0-mxGeometry":{"relative":"1","as":"geometry"}},"C7n66BM7":{"id":"C7n66BM7","value":"零错误","style":"edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];","parent":"TOvMFRGs","vertex":"1","connectable":"0","-0-mxGeometry":{"x":"0.6889","y":"-1","relative":"1","as":"geometry","-0-mxPoint":{"x":"1","y":"2","as":"offset"}}},"HV1fCq2A":{"id":"HV1fCq2A","style":"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;","parent":"fNOcu83V","source":"GYIAbqTa","target":"CJsuzCKJ","edge":"1","-0-mxGeometry":{"relative":"1","as":"geometry"}},"KALV4He8":{"id":"KALV4He8","value":"高错误率","style":"edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];","parent":"HV1fCq2A","vertex":"1","connectable":"0","-0-mxGeometry":{"x":"0.7","y":"-2","relative":"1","as":"geometry","-0-mxPoint":{"x":"2","y":"2","as":"offset"}}},"GYIAbqTa":{"id":"GYIAbqTa","value":"调整策略","style":"rhombus;whiteSpace=wrap;html=1;","parent":"fNOcu83V","vertex":"1","diagramName":"Diamond","diagramCategory":"general","-0-mxGeometry":{"x":"80","y":"760","width":"120","height":"80","as":"geometry"}},"EcIIyYmh":{"id":"EcIIyYmh","style":"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;","parent":"fNOcu83V","source":"CJsuzCKJ","target":"00fW0fXG","edge":"1","-0-mxGeometry":{"relative":"1","as":"geometry"}},"CJsuzCKJ":{"id":"CJsuzCKJ","value":"降低 QPS","style":"rounded=0;whiteSpace=wrap;html=1;","parent":"fNOcu83V","vertex":"1","diagramName":"Rectangle","diagramCategory":"general","-0-mxGeometry":{"x":"-80","y":"880","width":"120","height":"40","as":"geometry"}},"8lkhbZG3":{"id":"8lkhbZG3","value":"","style":"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;","parent":"fNOcu83V","source":"yNpc8Dti","target":"00fW0fXG","edge":"1","-0-mxGeometry":{"relative":"1","as":"geometry"}},"yNpc8Dti":{"id":"yNpc8Dti","value":"提升 QPS","style":"rounded=0;whiteSpace=wrap;html=1;","parent":"fNOcu83V","vertex":"1","diagramName":"Rectangle","diagramCategory":"general","-0-mxGeometry":{"x":"80","y":"880","width":"120","height":"40","as":"geometry"}},"RP2xU3WA":{"id":"RP2xU3WA","style":"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;","parent":"fNOcu83V","source":"BZYwMDnh","target":"00fW0fXG","edge":"1","-0-mxGeometry":{"relative":"1","as":"geometry"}},"BZYwMDnh":{"id":"BZYwMDnh","value":"快速提升","style":"rounded=0;whiteSpace=wrap;html=1;","parent":"fNOcu83V","vertex":"1","diagramName":"Rectangle","diagramCategory":"general","-0-mxGeometry":{"x":"240","y":"880","width":"120","height":"40","as":"geometry"}},"Npw14G5F":{"id":"Npw14G5F","style":"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;","parent":"fNOcu83V","source":"00fW0fXG","target":"VBY8Jshy","edge":"1","-0-mxGeometry":{"relative":"1","as":"geometry","-0-mxPoint":{"x":"492","y":"490","as":"targetPoint"},"-1-Array":{"as":"points","-0-mxPoint":{"x":"440","y":"980"},"-1-mxPoint":{"x":"440","y":"280"}}}},"00fW0fXG":{"id":"00fW0fXG","value":"更新限流器","style":"rounded=0;whiteSpace=wrap;html=1;","parent":"fNOcu83V","vertex":"1","diagramName":"Rectangle","diagramCategory":"general","-0-mxGeometry":{"x":"80","y":"960","width":"120","height":"40","as":"geometry"}},"Qk6Fjc1x":{"id":"Qk6Fjc1x","value":"QPS 动态调整","style":"text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;opacity=50;","parent":"fNOcu83V","vertex":"1","diagramName":"text","diagramCategory":"general","-0-mxGeometry":{"x":"-120","y":"690","width":"140","height":"20","as":"geometry"}},"1qQylnnu":{"id":"1qQylnnu","value":"QPS 爬坡核心流程","style":"text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;opacity=50;","parent":"fNOcu83V","vertex":"1","diagramName":"text","diagramCategory":"general","-0-mxGeometry":{"x":"-120","y":"230","width":"140","height":"20","as":"geometry"}}},"mxCellList":["iA7pi4uV","fNOcu83V","23929Rpd","K2SYiLkS","jeUdDnlW","By58GL5g","36obyVJM","TixMA2Qc","4dvUD2ZM","19QPcx3J","gut5ZCwk","n4uG7O09","VBY8Jshy","f2JwEy8t","hrYe4Cef","k3fMop76","p1KPC0In","MoYEEcTp","GSP3QsxK","FPd6suWn","VYdsP55I","lRCF68KV","24W1qbCT","sHTSa4ji","0rpFoZ4T","zu3L0HMs","NNm8nyQ6","Q5feYUdl","5EW4iYiX","GuKdBCMV","TOvMFRGs","C7n66BM7","HV1fCq2A","KALV4He8","GYIAbqTa","EcIIyYmh","CJsuzCKJ","8lkhbZG3","yNpc8Dti","RP2xU3WA","BZYwMDnh","Npw14G5F","00fW0fXG","Qk6Fjc1x","1qQylnnu"]},"lastEditTime":0,"snapshot":""}" />

### 核心机制1：动态调整速率
QPS Climber （每秒查询率爬坡器）采用"试错-调整"策略，通过周期性评估请求成功率，动态调整请求速率。核心实现在 `adjustQPS()` 方法中：
```Go
func (q *QPSClimber) adjustQPS() {
    // 计算请求总数与错误率
    acceptCount := float64(q.counter.Count(Accept))
    serverOverloadedCount := float64(q.counter.Count(ServerOverloadedCode))
    unknownCount := float64(q.counter.Count(UnknownCode))
    errorAll := serverOverloadedCount + unknownCount
    errorRatio := errorAll / acceptCount
    
    // 根据错误率动态调整QPS
    oldRate, newRate := float64(q.limiter.Limit()), float64(0)
    switch {
    case errorRatio >= q.options.StrictErrorRatio:
        // 高错误率场景：降低请求速率
        newRate = oldRate - oldRate*q.options.ProbeRatio
    case errorRatio >= q.options.RelaxErrorRatio:
        // 中等错误率场景：维持当前请求速率
        newRate = oldRate
    case errorRatio > 0:
        // 低错误率场景：小幅提升请求速率进行探测
        newRate = oldRate + oldRate*q.options.ProbeRatio
    case errorRatio == 0:
        // 零错误场景：更积极地提升请求速率
        newRate = oldRate + oldRate*q.options.FastProbeRatio
        
        // 防止请求量不足时速率无限增长
        if acceptCount*1.5 < oldRate*q.options.AdjustInterval.Seconds() {
            newRate = oldRate
        }
    }
    
    // 应用速率调整并设置边界限制
    finalRate := minMax(1, float64(q.options.MaxRate), newRate)
    if finalRate != oldRate {
        q.limiter.SetLimit(rate.Limit(finalRate))
        q.limiter.SetBurst(int(finalRate))
    }
}
```

### 核心机制2：客户端限流与重试策略
QPS Climber 实现了两层保护机制：

1. **客户端令牌桶限流**：通过 `golang.org/x/time/rate` 包实现令牌桶算法，确保请求不会超过设定的QPS上限
2. **指数退避重试**：对失败请求采用指数退避策略进行重试，避免短时间内反复冲击服务端

核心实现在 `DoRequest()` 方法中：
```Go
func (q *QPSClimber) DoRequest(ctx context.Context, req *model.CreateChatCompletionRequest) (model.ChatCompletionResponse, error) {
    // 初始化指数退避器
    backOff := newExponentialBackoff(q.options.RetryBaseDelay, q.options.RetryMaxDelay)
    
    for {
        select {
        case <-ctx.Done():
            return model.ChatCompletionResponse{}, ctx.Err()
        default:
        }
        
        // 客户端令牌桶限流
        if !q.limiter.Allow() {
            backOff.wait()
            continue
        }
        
        // 记录已接受的请求并执行
        q.Record(Accept)
        resp, err := q.client.CreateChatCompletion(ctx, req)
        if err == nil {
            return resp, nil
        }
        
        // 错误处理与重试决策
        statusCode, retry := needRetryError(err)
        q.Record(convertToCode(statusCode))
        
        if !retry {
            return resp, err
        }
        
        // 指数退避等待
        backOff.wait()
    }
}
```

### 核心机制3：错误分类后智能路由
将服务端响应错误分为下面几类：

* `ServerOverloadedCode`：服务过载（如HTTP 429）
* `InternalServerError`：服务器内部错误（如HTTP 500）
* `UnknownCode`：其他请求错误（如 HTTP 400）

通过 `convertToCode()` 方法实现错误智能分类，为动态速率调整提供决策依据：
```Go
func convertToCode(statusCode int) Code {
  switch {
  case statusCode >= http.StatusInternalServerError:
    return InternalServerError
  case statusCode == http.StatusTooManyRequests:
    return ServerOverloadedCode
  case statusCode == http.StatusOK:
    return SuccessCode
  default:
    return UnknownCode
  }
}
```

## 使用与配置
### 参数说明及配置
```Go
func defaultOptions() *Options {
  return &Options{
    AdjustInterval:   10 * time.Second,
    InitialRate:      10,
    MaxRate:          1000,
    StrictErrorRatio: 0.05,
    RelaxErrorRatio:  0.01,
    ProbeRatio:       0.05,
    FastProbeRatio:   0.1,
    RetryBaseDelay: 100 * time.Millisecond,
    RetryMaxDelay:  3 * time.Second,
  }
}
```

**参数说明**

| | | | | \
|参数名 |默认值 |推荐值范围 |调优建议 |
|---|---|---|---|
| | | | | \
|**InitialRate** |10 |5-50 |根据服务初始承载能力设置，新服务建议从低值开始 |
| | | | | \
|**MaxRate** |1000 |需根据服务配额估算 |可根据业务请求使用量（TPM）和请求频率（RPM）来估算，建议设置为服务额定QPS的80%-90%，留有余量。 |
| | | | | \
|**AdjustInterval** |10s |5-15s |流量波动大时可适当缩短间隔。 |
| | | | | \
|**StrictErrorRatio** |0.05 |0.03-0.1 |错误率阈值1，错误率高于该阈值，会降低请求频率。 |\
| | | |对稳定性要求高时可降低该值。 |
| | | | | \
|**RelaxErrorRatio** |0.01 |0.005-0.05 |允许少量错误时可适当提高该值。 |
| | | | | \
|**ProbeRatio** |0.05 |0.03-0.1 |速率调整步长，波动大时可降低步长。 |
| | | | | \
|**RetryBaseDelay** |100 ms |50ms-500ms |单位 ms，初始重试延迟，根据服务响应速度调整。 |
| | | | | \
|**RetryMaxDelay** |3 s |3s-10s |最大重试等待时间。 |

### 使用建议

* **单例模式使用**：在应用中创建单一的 `QPSClimber` 实例，所有API调用共享该实例，避免资源浪费。
* **统一错误处理**：通过 `needRetryError()` 方法统一处理各类错误，确保重试决策一致性。
* **并发请求控制**：结合Go语言的 `sync.WaitGroup` 实现高效并发请求，同时通过QPS Climber控制总体速率。

```Go
// 并发请求示例
var wg sync.WaitGroup
concurrency := 1000
wg.Add(concurrency)

for i := 0; i < concurrency; i++ {
    go func() {
        defer wg.Done()
        for total.Add(-1) >= 0 {
            // 业务请求代码
            req := &model.CreateChatCompletionRequest{...}
            _, err := qpsClimber.DoRequest(ctx, req)
            // 错误处理
        }
    }()
}
wg.Wait()
```

* **预热机制**：应用启动时设置较低的初始QPS，通过 `adjustInterval` 逐步提升，避免冷启动时的流量冲击，导致被熔断。
* **自适应调整**：利用QPS Climber的动态调整能力，让系统自动适应流量变化。
* **监控告警**：关注QPS调整日志，设置错误率、成功率等关键指标的监控告警。
* **降级预案**：在极端情况下，考虑实现请求降级或熔断机制，确保核心功能可用。

## 完整项目代码
<Attachment link="https://p9-arcosite.byteimg.com/tos-cn-i-goo7wpa0wc/55c4a0b30f824c7e85da1126a7dfb87b~tplv-goo7wpa0wc-image.image" name="chat-request-climber.zip" ></Attachment>

# 实践 退避重试策略
使用退避算法进行请求重试，是避免限流的简单且有效方法（不仅仅在突发流量场景），其中随机指数退避算法实现自动重试请求。
## 核心设计思路
当遇到速率限制错误时，先进行短暂休眠，随后重新发起未成功的请求。若请求依旧失败，系统会增加休眠时长，再次尝试，该过程会持续进行，直至请求成功或达到最大重试次数。
具备如下优势：

* 自动重试功能可使系统从速率限制错误中恢复，避免崩溃和数据丢失。
* 指数退避特性能快速进行首次重试。若前几次重试失败，较长的延迟时间可减少速率限制的触发。
* 在等待时间中加入随机抖动，避免大量请求同时重试。

:::warning
不成功的请求会计入每分钟的请求限制内，因此高频重试会更快达到限流阈值，导致更多请求失败。采用指数退避算法进行重试，能在遵守速率限制规则的前提下，提高请求成功的概率，保障系统的稳定运行。 
:::
## 示例代码
使用 Tenacity 是三方 Python 库，来简化重试的实现。下面示例是如何为一个请求增加随机指数退避。
```Python
import os
# 升级方舟 SDK 到最新版本 pip install -U 'volcengine-python-sdk[ark]'
from volcenginesdkarkruntime import Ark
# 引入指数退避（exponential backoff）算法包
from tenacity import retry, stop_after_attempt, wait_random_exponential

client = Ark(
    # 从环境变量中读取您的方舟API Key
    api_key=os.environ.get("ARK_API_KEY"),
)

@retry(wait=wait_random_exponential(min=1, max=60), stop=stop_after_attempt(6))
def completion_with_backoff(**kwargs):
    return client.chat.completions.create(**kwargs)

resp = completion_with_backoff(
    model="doubao-seed-1-6-250615", messages=[{"role": "user", "content": "hello"}]
)

print(resp.choices[0].message.content)
```

# 实践 使用TPM保障包
在可预测或者重点保障的业务，为了应对流量突增，可考虑购买 TPM 保障包来覆盖突发流量，方舟允许 TPM 保障包额度内的突发流量，提供具备更高的 SLA 以及资源优先级。用户无需变更任何代码，只需在指定的接入点上购买 TPM 保障包即可。详细介绍及购买指引见  [TPM保障包](/docs/82379/1510762) 。